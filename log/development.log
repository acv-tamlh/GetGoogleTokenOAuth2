Started GET "/" for 127.0.0.1 at 2018-09-12 09:45:56 +0700
  [1m[35m (7.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.0ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlsVBg3VvrHMT_ZhC5sizvnEQ5197w8UkWdmF3xUU19oN0Bop9AzsJlLH1DebVrVgLGu_BLZTHU2szRVJlui7hjy79E0x5lOvSBUi3FLxayIeUZz1d3v3QkcQSt4"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 1168ms (Views: 1099.1ms | ActiveRecord: 15.6ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:04:01 +0700
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsVBg3VvrHMT_ZhC5sizvnEQ5197w8UkWdmF3xUU19oN0Bop9AzsJlLH1DebVrVgLGu_BLZTHU2szRVJlui7hjy79E0x5lOvSBUi3FLxayIeUZz1d3v3QkcQSt4"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
Completed 500 Internal Server Error in 40ms (ActiveRecord: 10.8ms)


  
TypeError (can't convert String into an exact number):
  
app/controllers/homes_controller.rb:18:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 10:06:25 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.3ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsVBg3VvrHMT_ZhC5sizvnEQ5197w8UkWdmF3xUU19oN0Bop9AzsJlLH1DebVrVgLGu_BLZTHU2szRVJlui7hjy79E0x5lOvSBUi3FLxayIeUZz1d3v3QkcQSt4"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 303ms (Views: 270.0ms | ActiveRecord: 7.6ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:06:57 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsVBg3VvrHMT_ZhC5sizvnEQ5197w8UkWdmF3xUU19oN0Bop9AzsJlLH1DebVrVgLGu_BLZTHU2szRVJlui7hjy79E0x5lOvSBUi3FLxayIeUZz1d3v3QkcQSt4"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 130ms (Views: 86.2ms | ActiveRecord: 17.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:07:00 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (3.1ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsVBg3VvrHMT_ZhC5sizvnEQ5197w8UkWdmF3xUU19oN0Bop9AzsJlLH1DebVrVgLGu_BLZTHU2szRVJlui7hjy79E0x5lOvSBUi3FLxayIeUZz1d3v3QkcQSt4"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 90ms (Views: 76.5ms | ActiveRecord: 3.1ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 10:07:02 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 10:07:02 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:07:06 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 10:07:06 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 172ms (Views: 48.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 10:07:14 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.5ms)
Completed 200 OK in 119ms (Views: 109.3ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWABG5uRZkTs5zPrI6uHHissW-N3rADaMfXMgNk8BAByjDp70g3BSy7iOJaomIIffUlzaD8qhr5RYA1-n0f4t2dk" for 127.0.0.1 at 2018-09-12 10:07:25 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WABG5uRZkTs5zPrI6uHHissW-N3rADaMfXMgNk8BAByjDp70g3BSy7iOJaomIIffUlzaD8qhr5RYA1-n0f4t2dk"}
Redirected to http://localhost:3000/
Completed 302 Found in 392ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:07:26 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBlzNZKEqnfq7j8JNL0VN5vMkzDd_EVt7e6bZceFqiboSJNGvQ9SD4-TQb3DGKXx9dYR1CItbg4a7yZ5xE3spjffGcAxUXKDOvG7dMQh4rG-ucwWhGPB7yAkJzw"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/homes_controller.rb:7
  [1m[36mOauth2Token Create (1.0ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlwWBlzNZKEqnfq7j8JNL0VN5vMkzDd_EVt7e6bZceFqiboSJNGvQ9SD4-TQb3DGKXx9dYR1CItbg4a7yZ5xE3spjffGcAxUXKDOvG7dMQh4rG-ucwWhGPB7yAkJzw"], ["expiry", "3600"], ["created_at", "2018-09-12 03:07:26.028872"], ["updated_at", "2018-09-12 03:07:26.028872"], ["issued_at", "2018-09-12 03:07:26.011000"]]
  â†³ app/controllers/homes_controller.rb:7
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/homes_controller.rb:7
Completed 500 Internal Server Error in 21ms (ActiveRecord: 7.3ms)


  
NoMethodError (undefined method `refresh_token' for nil:NilClass):
  
app/controllers/homes_controller.rb:9:in `index'
Started PUT "/__web_console/repl_sessions/0c46fddc29d8e27b51c9f069ceb7c85b" for 127.0.0.1 at 2018-09-12 10:07:39 +0700
Started PUT "/__web_console/repl_sessions/0c46fddc29d8e27b51c9f069ceb7c85b" for 127.0.0.1 at 2018-09-12 10:07:40 +0700
Started GET "/" for 127.0.0.1 at 2018-09-12 10:07:54 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBlzNZKEqnfq7j8JNL0VN5vMkzDd_EVt7e6bZceFqiboSJNGvQ9SD4-TQb3DGKXx9dYR1CItbg4a7yZ5xE3spjffGcAxUXKDOvG7dMQh4rG-ucwWhGPB7yAkJzw"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 179ms (Views: 109.5ms | ActiveRecord: 40.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:08:15 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBlzNZKEqnfq7j8JNL0VN5vMkzDd_EVt7e6bZceFqiboSJNGvQ9SD4-TQb3DGKXx9dYR1CItbg4a7yZ5xE3spjffGcAxUXKDOvG7dMQh4rG-ucwWhGPB7yAkJzw"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 150ms (Views: 83.7ms | ActiveRecord: 45.2ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 10:08:17 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 10:08:18 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:08:23 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 10:08:23 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.5ms)
Completed 200 OK in 67ms (Views: 51.8ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWAC0she6D_bMbQbEv3xtTOzDbDFJqcTSchFWrFokx9URev-jlWUfyQc24LR_tg2ksgRnAdM90TFf7chjHav0GYI" for 127.0.0.1 at 2018-09-12 10:08:32 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAC0she6D_bMbQbEv3xtTOzDbDFJqcTSchFWrFokx9URev-jlWUfyQc24LR_tg2ksgRnAdM90TFf7chjHav0GYI"}
Redirected to http://localhost:3000/
Completed 302 Found in 313ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:08:33 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/homes_controller.rb:7
  [1m[36mOauth2Token Create (0.3ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"], ["expiry", "3599"], ["created_at", "2018-09-12 03:08:33.173065"], ["updated_at", "2018-09-12 03:08:33.173065"], ["issued_at", "2018-09-12 03:08:33.162000"]]
  â†³ app/controllers/homes_controller.rb:7
  [1m[35m (9.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/homes_controller.rb:7
Started POST "/oauth2/token" for 127.0.0.1 at 2018-09-12 10:09:11 +0700
  
ActionController::RoutingError (No route matches [POST] "/oauth2/token"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Completed 500 Internal Server Error in 2234145ms (ActiveRecord: 10.1ms)


  
URI::InvalidURIError (bad URI(no host provided): http:///oauth2/token):
  
app/controllers/homes_controller.rb:10:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 10:45:55 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"]]
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 4165ms (Views: 65.9ms | ActiveRecord: 8.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:46:07 +0700
  [1m[35m (7.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"]]
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 138715ms (Views: 358.1ms | ActiveRecord: 10.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:48:31 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"]]
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 70ms (Views: 44.1ms | ActiveRecord: 7.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 10:49:25 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant ApplicationController::Google):
  
app/controllers/application_controller.rb:68:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 10:49:55 +0700
  
LoadError (cannot load such file -- api_client):
  
app/controllers/application_controller.rb:2:in `<main>'
app/controllers/homes_controller.rb:2:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-09-12 10:50:03 +0700
  
LoadError (cannot load such file -- google/api_client):
  
app/controllers/application_controller.rb:2:in `<main>'
app/controllers/homes_controller.rb:2:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-09-12 10:55:48 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 61ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient):
  
app/controllers/application_controller.rb:68:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 11:00:09 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient):
  
app/controllers/application_controller.rb:68:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 11:04:26 +0700
  [1m[35m (7.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient):
  
app/controllers/application_controller.rb:68:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 11:08:25 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient):
  
app/controllers/application_controller.rb:73:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 12:57:59 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.3ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 459ms (Views: 404.8ms | ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 12:58:54 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (9.8ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 132ms (Views: 83.8ms | ActiveRecord: 17.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 12:59:01 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBrjgtrNGnr2dMjbr-0boFZ8kQF7I1ilua6cjFMoGeuwfPA54FRPOIIxu8-zRABr6g9EMdfOGYwo3dU7B3qhXDsblFlPjV4HG1gHRSmTYdGNJBJbEYQRMammoGA"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 69ms (Views: 60.4ms | ActiveRecord: 0.5ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 12:59:05 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:11: dynamic constant assignment
    Ga = Google::Apis::AnalyticsV3 # ...
       ^):
  
app/controllers/logins_controller.rb:11: dynamic constant assignment
Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 12:59:55 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:00:04 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:00:04 +0700
Processing by LoginsController#prompt as HTML
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient):
  
app/controllers/logins_controller.rb:10:in `ga'
app/controllers/logins_controller.rb:20:in `prompt'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:00:13 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:11: dynamic constant assignment
    Ga = Google::Apis::AnalyticsV3 # ...
       ^):
  
app/controllers/logins_controller.rb:11: dynamic constant assignment
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:00:41 +0700
  [1m[35m (7.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:11: dynamic constant assignment
    Ga = Google::Apis::AnalyticsV3 # ...
       ^):
  
app/controllers/logins_controller.rb:11: dynamic constant assignment
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:01:49 +0700
Processing by LoginsController#prompt as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient):
  
app/controllers/logins_controller.rb:10:in `ga'
app/controllers/logins_controller.rb:21:in `prompt'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:07:32 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.1ms)
Completed 200 OK in 464ms (Views: 452.4ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWAA5Q-pGiSNznjH_pqx0DgI1LXkqooFlgsBvyRiAnffSVV8CLtncDeGQoftU42rZCejdI-eudSDhyjCDG7JOgF8" for 127.0.0.1 at 2018-09-12 13:08:03 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAA5Q-pGiSNznjH_pqx0DgI1LXkqooFlgsBvyRiAnffSVV8CLtncDeGQoftU42rZCejdI-eudSDhyjCDG7JOgF8"}
Redirected to http://localhost:3000/
Completed 302 Found in 253ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:08:03 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 216ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `opts' for #<HomesController:0x00007f8c21b3d8f0>):
  
app/controllers/application_controller.rb:70:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:08:24 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/application_controller.rb:69:in `initialize'
app/controllers/application_controller.rb:69:in `new'
app/controllers/application_controller.rb:69:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:08:36 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 30742ms (ActiveRecord: 0.0ms)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/application_controller.rb:70:in `initialize'
app/controllers/application_controller.rb:70:in `new'
app/controllers/application_controller.rb:70:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:09:09 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 2945ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient::KeyUtils):
  
app/controllers/application_controller.rb:76:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:09:37 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 48576ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant Google::APIClient::KeyUtils):
  
app/controllers/application_controller.rb:76:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:10:28 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 17026ms (ActiveRecord: 0.0ms)


  
ArgumentError (Invalid keyfile or passphrase):
  
app/controllers/application_controller.rb:77:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:11:29 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)


  
ArgumentError (Invalid keyfile or passphrase):
  
app/controllers/application_controller.rb:76:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:11:31 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
ArgumentError (Invalid keyfile or passphrase):
  
app/controllers/application_controller.rb:76:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:13:12 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 282ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `key_file' for #<HomesController:0x00007f8c21d28138>):
  
app/controllers/application_controller.rb:79:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:13:31 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 115ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `authorization' for #<Google::APIClient:0x00007f8c20fd4db0>):
  
app/controllers/application_controller.rb:89:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:42:20 +0700
  [1m[35m (7.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBs7AAZIu5tF9Ei_fstKZkNCR5nJ5uLG8AmcpkGAogTzJFm79pnQbA4GVuy_ozVmDhKNwVXS4IBFhyhkd2nVEaGAFpnPLu00GLgjmQKeMYuOytUrIcR6qjSbDtQ"]]
  â†³ app/controllers/homes_controller.rb:6
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/homes_controller.rb:7
  [1m[36mOauth2Token Create (29.9ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlwWBs7AAZIu5tF9Ei_fstKZkNCR5nJ5uLG8AmcpkGAogTzJFm79pnQbA4GVuy_ozVmDhKNwVXS4IBFhyhkd2nVEaGAFpnPLu00GLgjmQKeMYuOytUrIcR6qjSbDtQ"], ["expiry", "3600"], ["created_at", "2018-09-12 06:42:20.833665"], ["updated_at", "2018-09-12 06:42:20.833665"], ["issued_at", "2018-09-12 06:08:03.721000"]]
  â†³ app/controllers/homes_controller.rb:7
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 339ms (Views: 268.2ms | ActiveRecord: 40.3ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 13:42:23 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 13:42:23 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:42:30 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:42:30 +0700
Processing by LoginsController#prompt as HTML
Completed 500 Internal Server Error in 233ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `service_account_email' for #<LoginsController:0x00007fce1bd2a780>):
  
app/controllers/logins_controller.rb:17:in `ga'
app/controllers/logins_controller.rb:21:in `prompt'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:42:48 +0700
Processing by LoginsController#prompt as HTML
Completed 500 Internal Server Error in 241ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `key' for #<LoginsController:0x00007fce235d29a8>):
  
app/controllers/logins_controller.rb:18:in `ga'
app/controllers/logins_controller.rb:21:in `prompt'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:43:05 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.8ms)
Completed 200 OK in 108ms (Views: 81.0ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:49:02 +0700
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.6ms)
Completed 200 OK in 311ms (Views: 294.6ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWACd9uB1MpdokZQN_yRSnH3YPQuG4_dmQpEkgROerO2u9rKVnRitJlTkiJE299QI2EAp0r8NiEyrrDR7k8nWTdo" for 127.0.0.1 at 2018-09-12 13:49:40 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WACd9uB1MpdokZQN_yRSnH3YPQuG4_dmQpEkgROerO2u9rKVnRitJlTkiJE299QI2EAp0r8NiEyrrDR7k8nWTdo"}
Redirected to http://localhost:3000/
Completed 302 Found in 451ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:49:41 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `authorization' for #<Google::APIClient:0x00007fb2a258ead8>):
  
app/controllers/application_controller.rb:89:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:52:25 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 240ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `key_file' for #<HomesController:0x00007fb2a1d90c00>):
  
app/controllers/application_controller.rb:65:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:52:35 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 129ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `authorization' for nil:NilClass):
  
app/controllers/application_controller.rb:93:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 13:52:55 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.1ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/homes_controller.rb:8
  [1m[36mOauth2Token Create (13.8ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"], ["expiry", "3599"], ["created_at", "2018-09-12 06:52:55.634509"], ["updated_at", "2018-09-12 06:52:55.634509"], ["issued_at", "2018-09-12 06:49:41.263000"]]
  â†³ app/controllers/homes_controller.rb:8
  [1m[35m (17.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/homes_controller.rb:8
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 321ms (Views: 83.0ms | ActiveRecord: 47.7ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:53:09 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 283ms (Views: 91.5ms | ActiveRecord: 9.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:53:19 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 202ms (Views: 61.0ms | ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:54:31 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 304ms (Views: 134.3ms | ActiveRecord: 15.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:57:10 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 454ms (ActiveRecord: 0.0ms)


  
Signet::AuthorizationError (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
  
app/controllers/application_controller.rb:93:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 13:57:46 +0700
Processing by LoginsController#prompt as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 13:57:46 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 602ms (ActiveRecord: 0.0ms)


  
Signet::AuthorizationError (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
  
app/controllers/application_controller.rb:93:in `create_analytis_api'
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 14:02:27 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 148ms (Views: 51.2ms | ActiveRecord: 8.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 14:09:48 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 105ms (Views: 71.2ms | ActiveRecord: 7.3ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 14:12:31 +0700
Processing by LoginsController#prompt as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 14:12:31 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.9ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 117ms (Views: 78.2ms | ActiveRecord: 8.3ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:12:32 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 78ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `authorize' for #<Google::Apis::AnalyticsV3::AnalyticsService:0x00007fb2a83ae258>
Did you mean?  authorization):
  
app/controllers/logins_controller.rb:14:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:12:42 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.7ms)
Completed 200 OK in 194ms (Views: 70.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:12:47 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.6ms)
Completed 200 OK in 151ms (Views: 46.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:12:50 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.0ms)
Completed 200 OK in 145ms (Views: 57.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:12:50 +0700
Processing by LoginsController#prompt_ga as HTML
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:12:50 +0700
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.4ms)
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.9ms)
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:12:51 +0700
Completed 200 OK in 286ms (Views: 180.4ms | ActiveRecord: 0.0ms)


Completed 200 OK in 179ms (Views: 112.8ms | ActiveRecord: 0.0ms)


Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.4ms)
Completed 200 OK in 102ms (Views: 27.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:13:10 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.5ms)
Completed 200 OK in 123ms (Views: 34.2ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:13:12 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.5ms)
Completed 200 OK in 115ms (Views: 30.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:13:13 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.5ms)
Completed 200 OK in 112ms (Views: 27.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:13:13 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.5ms)
Completed 200 OK in 115ms (Views: 28.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:13:16 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.5ms)
Completed 200 OK in 104ms (Views: 30.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:13:38 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 519ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `e' for #<LoginsController:0x00007fb2a83c3798>):
  
app/controllers/logins_controller.rb:15:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:13:51 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:16: syntax error, unexpected '=', expecting &. or :: or '[' or '.'
        @login_url = e.oauth_url
                   ^):
  
app/controllers/logins_controller.rb:16: syntax error, unexpected '=', expecting &. or :: or '[' or '.'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:14:04 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.6ms)
Completed 200 OK in 201ms (Views: 76.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:16:09 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.6ms)
Completed 200 OK in 152ms (Views: 59.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:16:16 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.6ms)
Completed 200 OK in 159ms (Views: 62.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:16:21 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.5ms)
Completed 200 OK in 136ms (Views: 41.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:16:48 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.9ms)
Completed 200 OK in 144ms (Views: 56.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:17:15 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.8ms)
Completed 200 OK in 133ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:17:25 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.2ms)
Completed 200 OK in 128ms (Views: 41.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:17:42 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.9ms)
Completed 200 OK in 106ms (Views: 36.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:18:04 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.7ms)
Completed 500 Internal Server Error in 111ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/views/logins/prompt_ga.html.erb:14: syntax error, unexpected ']', expecting '('
...pend=( [@api.methods - Object.]methods);
...                              ^):
  
app/views/logins/prompt_ga.html.erb:14: syntax error, unexpected ']', expecting '('
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:18:50 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (3.0ms)
Completed 200 OK in 123ms (Views: 55.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:19:02 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.9ms)
Completed 200 OK in 123ms (Views: 39.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:19:04 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (0.7ms)
Completed 200 OK in 123ms (Views: 38.2ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:20:45 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.0ms)
Completed 200 OK in 132ms (Views: 55.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:25:20 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (11.7ms)
Completed 200 OK in 334ms (Views: 226.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:25:27 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.4ms)
Completed 200 OK in 131ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:29:15 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 98ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/views/logins/prompt_ga.html.erb:16: syntax error, unexpected '=', expecting keyword_end
<p>'.freeze; = @api.authorization;@output_b...
             ^):
  
app/views/logins/prompt_ga.html.erb:16: syntax error, unexpected '=', expecting keyword_end
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:29:23 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.2ms)
Completed 200 OK in 150ms (Views: 63.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:29:38 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.0ms)
Completed 200 OK in 160ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:30:01 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (329.2ms)
Completed 500 Internal Server Error in 436ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
    14: <%= @api.methods - Object.methods%>
    15: 
    16: <p><%= @api.authorization.methods - Object.methods%></p>
    17: <p><%= @api.authorization.fetch_access_token! %></p>
  
app/views/logins/prompt_ga.html.erb:17:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202651471820'
Started GET "/" for 127.0.0.1 at 2018-09-12 14:30:10 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 97ms (Views: 56.5ms | ActiveRecord: 13.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:30:15 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (300.4ms)
Completed 500 Internal Server Error in 403ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
    14: <%= @api.methods - Object.methods%>
    15: 
    16: <p><%= @api.authorization.methods - Object.methods%></p>
    17: <!-- <p><%= @api.authorization.fetch_access_token! %></p> -->
  
app/views/logins/prompt_ga.html.erb:17:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202671515880'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:30:20 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.0ms)
Completed 200 OK in 143ms (Views: 56.0ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:31:02 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (6.9ms)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `-' for nil:NilClass):
    13: 
    14: <%= @api.methods - Object.methods%>
    15: 
    16: <p><%= @api.authorization.client_id - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:16:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202653304460'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:31:09 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.3ms)
Completed 200 OK in 147ms (Views: 50.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:35:48 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 117ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `client_id=' for #<Google::Apis::AnalyticsV3::AnalyticsService:0x00007fb2a6458598>
Did you mean?  client=):
  
app/controllers/application_controller.rb:82:in `create_analytis_api'
app/controllers/logins_controller.rb:9:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:36:00 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 114ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `client_id=' for #<Google::Apis::AnalyticsV3::AnalyticsService:0x00007fb2ab0006f8>
Did you mean?  client=):
  
app/controllers/application_controller.rb:83:in `create_analytis_api'
app/controllers/logins_controller.rb:9:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:36:05 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.2ms)
Completed 200 OK in 227ms (Views: 90.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:36:22 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `client_secret=' for #<Google::Apis::AnalyticsV3::AnalyticsService:0x00007fb2a8233bd0>
Did you mean?  client_options=):
  
app/controllers/application_controller.rb:83:in `create_analytis_api'
app/controllers/logins_controller.rb:9:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:36:37 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (4.8ms)
Completed 200 OK in 210ms (Views: 68.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:37:12 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (379.9ms)
Completed 500 Internal Server Error in 480ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
    14: <%= @api.methods - Object.methods%>
    15: 
    16: <p><%= @api.authorization.methods - Object.methods%></p>
    17: <p><%= @api.authorization.fetch_access_token!%></p>
  
app/views/logins/prompt_ga.html.erb:17:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202638079000'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:38:36 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.4ms)
Completed 200 OK in 122ms (Views: 52.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:38:49 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.2ms)
Completed 200 OK in 142ms (Views: 52.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:38:56 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (356.2ms)
Completed 500 Internal Server Error in 448ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
    14: <%= @api.methods - Object.methods%>
    15: 
    16: <p><%= @api.authorization.methods - Object.methods%></p>
    17: <p><%= @api.authorization.orig_fetch_access_token!%></p>
  
app/views/logins/prompt_ga.html.erb:17:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202662663040'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:39:08 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.0ms)
Completed 200 OK in 130ms (Views: 40.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:39:15 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.3ms)
Completed 200 OK in 132ms (Views: 39.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:39:45 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 83ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `client_id=' for nil:NilClass):
  
app/controllers/application_controller.rb:74:in `create_analytis_api'
app/controllers/logins_controller.rb:9:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:40:00 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.5ms)
Completed 200 OK in 176ms (Views: 59.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:40:49 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.6ms)
Completed 200 OK in 207ms (Views: 72.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:41:11 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (16.7ms)
Completed 500 Internal Server Error in 106ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `refresh_token!' for #<Signet::OAuth2::Client:0x00007fb2a98e8588>
Did you mean?  refresh_token
               refresh_token=):
    14: <%= @api.methods - Object.methods%>
    15: 
    16: <p><%= @api.authorization.methods - Object.methods%></p>
    17: <p><%= @api.authorization.refresh_token!%></p>
  
app/views/logins/prompt_ga.html.erb:17:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202662786400'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:41:18 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.0ms)
Completed 200 OK in 136ms (Views: 49.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:41:32 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (302.7ms)
Completed 500 Internal Server Error in 399ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
    14: <%= @api.methods - Object.methods%>
    15: 
    16: <p><%= @api.authorization.methods - Object.methods%></p>
    17: <p><%= @api.authorization.fetch_access_token!%></p>
  
app/views/logins/prompt_ga.html.erb:17:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202637719360'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:43:21 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (320.4ms)
Completed 500 Internal Server Error in 434ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
    15: <%= @key%>
    16: 
    17: <p><%= @api.authorization.methods - Object.methods%></p>
    18: <p><%= @api.authorization.fetch_access_token!%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202651221060'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:43:31 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.2ms)
Completed 200 OK in 155ms (Views: 49.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:44:24 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (348.2ms)
Completed 500 Internal Server Error in 501ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "invalid_user",
  "error_description": "Not a valid email or user ID."
}):
    15: <%= @key%>
    16: 
    17: <p><%= @api.authorization.methods - Object.methods%></p>
    18: <p><%= @api.authorization.fetch_access_token!%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202593339080'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:44:36 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.3ms)
Completed 200 OK in 144ms (Views: 51.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:45:02 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.8ms)
Completed 200 OK in 126ms (Views: 37.2ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 14:45:11 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.3ms)
Completed 200 OK in 136ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:09:49 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.5ms)
Completed 200 OK in 147ms (Views: 67.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:09:50 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.5ms)
Completed 200 OK in 122ms (Views: 57.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:09:52 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.4ms)
Completed 200 OK in 139ms (Views: 59.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:10:31 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (337.6ms)
Completed 500 Internal Server Error in 446ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "unsupported_grant_type",
  "error_description": "Invalid grant_type: "
}):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.authorization.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___2348832174464224602_70202675140680'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:10:45 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.3ms)
Completed 200 OK in 142ms (Views: 53.0ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:11:10 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.5ms)
Completed 200 OK in 313ms (Views: 65.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:11:39 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.8ms)
Completed 200 OK in 212ms (Views: 77.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:12:14 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.1ms)
Completed 200 OK in 295ms (Views: 84.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:12:41 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.6ms)
Completed 200 OK in 188ms (Views: 62.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:13:00 +0700
  [1m[35m (10.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.8ms)
Completed 200 OK in 323ms (Views: 251.0ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:13:30 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.3ms)
Completed 200 OK in 127ms (Views: 51.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:14:45 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (3.2ms)
Completed 200 OK in 138ms (Views: 61.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:15:04 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (37.1ms)
Completed 500 Internal Server Error in 143ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `fetch_access_token!' for #<Google::Apis::AnalyticsV3::AnalyticsService:0x00007fe0d32d5b48>):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301786931100'
Started GET "/" for 127.0.0.1 at 2018-09-12 15:15:13 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.9ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 97ms (Views: 50.5ms | ActiveRecord: 12.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:15:16 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBm26jmnJEFGPlgWtMmdXldCWrZmoOmNq2d1LFliR_C-ygSD2XmZ4wNOsRazi1aGTNtM9-7QSk3iQuchrJ9yH27MQvzHoGE8CqnH6VoW6aNYFhNUFTmFrKStlOQ"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 48ms (Views: 41.6ms | ActiveRecord: 0.5ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 15:15:17 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 15:15:18 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:15:22 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:15:22 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.5ms)
Completed 200 OK in 49ms (Views: 35.2ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:15:30 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (314.8ms)
Completed 500 Internal Server Error in 403ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "unsupported_grant_type",
  "error_description": "Invalid grant_type: "
}):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.authorization.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301786972380'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:15:53 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (278.4ms)
Completed 500 Internal Server Error in 388ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "unsupported_grant_type",
  "error_description": "Invalid grant_type: "
}):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.authorization.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301796358780'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:15:57 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (292.2ms)
Completed 500 Internal Server Error in 378ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "unsupported_grant_type",
  "error_description": "Invalid grant_type: "
}):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.authorization.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301820394060'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:17:21 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (326.9ms)
Completed 500 Internal Server Error in 407ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "unsupported_grant_type",
  "error_description": "Invalid grant_type: "
}):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.authorization.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301818368500'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:17:27 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (314.5ms)
Completed 500 Internal Server Error in 451ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Authorization failed.  Server message:
{
  "error": "unsupported_grant_type",
  "error_description": "Invalid grant_type: "
}):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.authorization.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301818551720'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:21:45 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/application_controller.rb:81: syntax error, unexpected tSYMBEG, expecting ')'
      :grant_type => 'refresh_token',
      ^
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/application_controller.rb:81: syntax error, unexpected ',', expecting keyword_end
...:grant_type => 'refresh_token',
...                              ^):
  
app/controllers/application_controller.rb:81: syntax error, unexpected tSYMBEG, expecting ')'
app/controllers/application_controller.rb:81: syntax error, unexpected ',', expecting keyword_end
app/controllers/logins_controller.rb:3:in `<main>'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:21:53 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (31.7ms)
Completed 500 Internal Server Error in 176ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (Missing authorization code.):
    15: <p></p>
    16: <div>
    17:   token:
    18:   <%= @api.authorization.fetch_access_token!%>
    19: </div>
    20: 
    21: <p><%= @api.authorization.methods - Object.methods%></p>
  
app/views/logins/prompt_ga.html.erb:18:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301761628980'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:23:22 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (10.5ms)
Completed 500 Internal Server Error in 87ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `authorization_uri' for #<Google::Apis::AnalyticsV3::AnalyticsService:0x00007fe0d50f23d8>
Did you mean?  authorization
               authorization=):
     9: 
    10: <p>Please authorize with a google account first:</p>
    11: 
    12: <p><a href="<%= redirect_to(@api.authorization_uri) %>">Proceed</a></p>
    13: 
    14: <%= @api.methods - Object.methods%>
    15: <p></p>
  
app/views/logins/prompt_ga.html.erb:12:in `_app_views_logins_prompt_ga_html_erb___1522570860733509735_70301812022580'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:25:24 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.3ms)
Completed 200 OK in 138ms (Views: 58.2ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:25:27 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.5ms)
Completed 200 OK in 113ms (Views: 30.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:25:28 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (2.2ms)
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:25:28 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.1ms)
Completed 200 OK in 337ms (Views: 239.2ms | ActiveRecord: 0.0ms)


Completed 200 OK in 152ms (Views: 64.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:25:30 +0700
Processing by LoginsController#prompt_ga as HTML
  Rendering logins/prompt_ga.html.erb within layouts/application
  Rendered logins/prompt_ga.html.erb within layouts/application (1.3ms)
Completed 200 OK in 100ms (Views: 32.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:26:30 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to 
Completed 500 Internal Server Error in 74ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `delete' for #<Addressable::URI:0x00007fe0d5ddc440>):
  
app/controllers/logins_controller.rb:11:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:26:39 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 109ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `authorization_uri' for #<Google::Apis::AnalyticsV3::AnalyticsService:0x00007fe0d535eba8>
Did you mean?  authorization
               authorization=):
  
app/controllers/logins_controller.rb:11:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:28:11 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to 
Completed 500 Internal Server Error in 80ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `delete' for #<Addressable::URI:0x00007fe0d58da410>):
  
app/controllers/logins_controller.rb:29:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:29:00 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 79ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:29:05 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.8ms)
Completed 200 OK in 114ms (Views: 93.2ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:29:13 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 85ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:30:47 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 59ms (Views: 49.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:30:50 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 83ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:31:04 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 59ms (Views: 49.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:31:06 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 88ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:31:46 +0700
  [1m[35m (7.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 67ms (ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WAD3F4uXancZE3YE3hu5k7MEk5ImAVMTqLpJTXHrj83BzFgfTcpFhrvnZzeOQJ9VYJbrUa9H6VQ7_VL5lD4Meis" for 127.0.0.1 at 2018-09-12 15:32:00 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAD3F4uXancZE3YE3hu5k7MEk5ImAVMTqLpJTXHrj83BzFgfTcpFhrvnZzeOQJ9VYJbrUa9H6VQ7_VL5lD4Meis"}
Redirected to http://localhost:3000/
Completed 302 Found in 492ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:32:01 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.4ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBrpYeBCNmr86GW_DeLBRvxeYIeXQ6fou3rswKxlhJugGreQg-lD5Ln1VdcajiiydmwiNbBVx2eTStwqO20ypU_IBqHM_yAnJCg4fklMtz8lA594dS8nklrf-4Q"]]
  â†³ app/controllers/homes_controller.rb:6
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/homes_controller.rb:7
  [1m[36mOauth2Token Create (1.0ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlwWBrpYeBCNmr86GW_DeLBRvxeYIeXQ6fou3rswKxlhJugGreQg-lD5Ln1VdcajiiydmwiNbBVx2eTStwqO20ypU_IBqHM_yAnJCg4fklMtz8lA594dS8nklrf-4Q"], ["expiry", "3600"], ["created_at", "2018-09-12 08:32:01.085394"], ["updated_at", "2018-09-12 08:32:01.085394"], ["issued_at", "2018-09-12 08:32:01.041000"]]
  â†³ app/controllers/homes_controller.rb:7
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/homes_controller.rb:7
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 336ms (Views: 276.1ms | ActiveRecord: 23.6ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:33:03 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 93ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 15:35:43 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 15:35:44 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:35:51 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 92ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:36:23 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:36:23 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.1ms)
Completed 200 OK in 118ms (Views: 106.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:36:34 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 96ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:36:35 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 67ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:36:42 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 73ms (Views: 60.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:36:44 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 86ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:36:44 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 71ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:37:04 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.9ms)
Completed 200 OK in 111ms (Views: 96.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:37:06 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 100ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:37:07 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 78ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAB14cMHUQKxkaxVKVwltMS5CIHwLPTEaYf5gIVVMyLv-VayUffJBUQl-pNVdS6Fg51NzWQQgJ1vvSkLVh96PZ0" for 127.0.0.1 at 2018-09-12 15:37:23 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAB14cMHUQKxkaxVKVwltMS5CIHwLPTEaYf5gIVVMyLv-VayUffJBUQl-pNVdS6Fg51NzWQQgJ1vvSkLVh96PZ0"}
Redirected to http://localhost:3000/
Completed 302 Found in 150ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:37:23 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:37:23 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 61ms (Views: 53.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:38:47 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.3ms)
Completed 200 OK in 69ms (Views: 55.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:38:50 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 89ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:38:50 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 79ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAA23bFOmChhi99bT_rxJBxY8AnWnYTmmlrYaQAQRuWK4e4_WhhhfgJUhPxwFYl29jRkOeU4IW5cGRYTk-5IxuU" for 127.0.0.1 at 2018-09-12 15:38:56 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAA23bFOmChhi99bT_rxJBxY8AnWnYTmmlrYaQAQRuWK4e4_WhhhfgJUhPxwFYl29jRkOeU4IW5cGRYTk-5IxuU"}
Completed 500 Internal Server Error in 104ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `query' for #<ActionDispatch::Request:0x00007f9cd8a48ea0>
Did you mean?  to_query):
  
app/controllers/logins_controller.rb:48:in `callback_ga'
Started GET "/login/callback_ga?code=4/WAA23bFOmChhi99bT_rxJBxY8AnWnYTmmlrYaQAQRuWK4e4_WhhhfgJUhPxwFYl29jRkOeU4IW5cGRYTk-5IxuU" for 127.0.0.1 at 2018-09-12 15:39:27 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAA23bFOmChhi99bT_rxJBxY8AnWnYTmmlrYaQAQRuWK4e4_WhhhfgJUhPxwFYl29jRkOeU4IW5cGRYTk-5IxuU"}
Completed 406 Not Acceptable in 387ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:39:37 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 68ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:39:39 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 92ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:39:39 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 74ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAA5y-4WPQD2nmh2NS3QjfQjwPgyh8P5ZUtA2cv8aHxZaSc0ZiLW5iX4a0I4EqGd-Hxlb_odjVKhRIgamem_RAw" for 127.0.0.1 at 2018-09-12 15:39:44 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAA5y-4WPQD2nmh2NS3QjfQjwPgyh8P5ZUtA2cv8aHxZaSc0ZiLW5iX4a0I4EqGd-Hxlb_odjVKhRIgamem_RAw"}
Completed 406 Not Acceptable in 250ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/callback_ga?code=4/WAA5y-4WPQD2nmh2NS3QjfQjwPgyh8P5ZUtA2cv8aHxZaSc0ZiLW5iX4a0I4EqGd-Hxlb_odjVKhRIgamem_RAw" for 127.0.0.1 at 2018-09-12 15:41:20 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAA5y-4WPQD2nmh2NS3QjfQjwPgyh8P5ZUtA2cv8aHxZaSc0ZiLW5iX4a0I4EqGd-Hxlb_odjVKhRIgamem_RAw"}
Completed 406 Not Acceptable in 734ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:41:26 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 74ms (Views: 54.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:41:27 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 82ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:41:27 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 76ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAD6d1VdrIaNZDuOxYuK-0IkF6-rUTjDjQvpgoKWkugDovR2Ip8LnmPYN_0wHlxBuV6-BohvvqF9pM9e6oiNUSc" for 127.0.0.1 at 2018-09-12 15:41:27 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAD6d1VdrIaNZDuOxYuK-0IkF6-rUTjDjQvpgoKWkugDovR2Ip8LnmPYN_0wHlxBuV6-BohvvqF9pM9e6oiNUSc"}
Completed 406 Not Acceptable in 512ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:44:15 +0700
Processing by LoginsController#prompt_ga as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `authorization' for nil:NilClass):
  
app/controllers/logins_controller.rb:10:in `prompt_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:44:27 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WABJ6DWiz9lzk92OC6ltdHqVqFqc8qPWFXkWGDdqeZRtusWYgIUh7peFx-Gr2QURTRLZ6HK8dPoM6km6R-ItbZs" for 127.0.0.1 at 2018-09-12 15:44:27 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABJ6DWiz9lzk92OC6ltdHqVqFqc8qPWFXkWGDdqeZRtusWYgIUh7peFx-Gr2QURTRLZ6HK8dPoM6km6R-ItbZs"}
Completed 406 Not Acceptable in 622ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:45:14 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.1ms)
Completed 200 OK in 78ms (Views: 55.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:45:16 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 86ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:45:16 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 75ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WADXN0FjZ-YxOTQkC41mqaaSEyUapLGIJMFpgJZz_MgT7cEj7lkSoa_gzxYiHQD_XSfoqlgFxTfVNNqvXVUcOyI" for 127.0.0.1 at 2018-09-12 15:45:17 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WADXN0FjZ-YxOTQkC41mqaaSEyUapLGIJMFpgJZz_MgT7cEj7lkSoa_gzxYiHQD_XSfoqlgFxTfVNNqvXVUcOyI"}
Completed 406 Not Acceptable in 603ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/callback_ga?code=4/WADXN0FjZ-YxOTQkC41mqaaSEyUapLGIJMFpgJZz_MgT7cEj7lkSoa_gzxYiHQD_XSfoqlgFxTfVNNqvXVUcOyI" for 127.0.0.1 at 2018-09-12 15:45:44 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WADXN0FjZ-YxOTQkC41mqaaSEyUapLGIJMFpgJZz_MgT7cEj7lkSoa_gzxYiHQD_XSfoqlgFxTfVNNqvXVUcOyI"}
Completed 500 Internal Server Error in 376ms (ActiveRecord: 0.0ms)


  
Signet::AuthorizationError (Authorization failed.  Server message:
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}):
  
app/controllers/logins_controller.rb:55:in `callback_ga'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:45:51 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (2.0ms)
Completed 200 OK in 76ms (Views: 58.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:45:53 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 97ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:45:53 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 68ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAC26zJkvADPVqJ3LxP86AK7VmWdz4up4mv9k5eNKl6Imz2I3CEQ9pAbBpruNdv0rJ5tF3uQ5eBaoI9Lphg3oDM" for 127.0.0.1 at 2018-09-12 15:45:53 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAC26zJkvADPVqJ3LxP86AK7VmWdz4up4mv9k5eNKl6Imz2I3CEQ9pAbBpruNdv0rJ5tF3uQ5eBaoI9Lphg3oDM"}
Completed 406 Not Acceptable in 536ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:47:08 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 59ms (Views: 52.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:47:09 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 96ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:47:10 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 74ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAC3mbl8-cEBKNOOWw0DzRjV_sg3mFE1_dVzEgCGBk6eXNe3oyOHqWTYfQEnkO08siGM6U92TTOfUkEun9fm3lM" for 127.0.0.1 at 2018-09-12 15:47:10 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAC3mbl8-cEBKNOOWw0DzRjV_sg3mFE1_dVzEgCGBk6eXNe3oyOHqWTYfQEnkO08siGM6U92TTOfUkEun9fm3lM"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
ArgumentError (Missing authorization code.):
  
app/controllers/logins_controller.rb:47:in `callback_ga'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:47:29 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 67ms (Views: 57.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:47:30 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 77ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:47:30 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 76ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAAI75z5cTCL3z-PmB1eGJur-HfhcVB3N8iZg63rbynaMAezu8lxg1E5FUvI3_ZI7C2TqlWHnvn00sFC95QDw8g" for 127.0.0.1 at 2018-09-12 15:47:30 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAI75z5cTCL3z-PmB1eGJur-HfhcVB3N8iZg63rbynaMAezu8lxg1E5FUvI3_ZI7C2TqlWHnvn00sFC95QDw8g"}
Completed 406 Not Acceptable in 589ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:48:00 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.1ms)
Completed 200 OK in 70ms (Views: 64.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:48:01 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 87ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:48:01 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 70ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WABv4MORsNf4IX00KTfCPstUIfXlHzVEOmH4ZjWUUou3bvhIN8bbj7beRGRpZ8WfSblzHi5rsdXXNgL4RNBUgHo" for 127.0.0.1 at 2018-09-12 15:48:02 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABv4MORsNf4IX00KTfCPstUIfXlHzVEOmH4ZjWUUou3bvhIN8bbj7beRGRpZ8WfSblzHi5rsdXXNgL4RNBUgHo"}
Completed 406 Not Acceptable in 565ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:49:16 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 87ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:49:17 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 75ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WADiWsoL0S-Vhsv7W_3IkwIAeQ0GxI9u_wNnbamq3z9QtS9dJAz7L-j6y__tkJQqqEhfZOS74dNIFLEAmtcryQ0" for 127.0.0.1 at 2018-09-12 15:49:17 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WADiWsoL0S-Vhsv7W_3IkwIAeQ0GxI9u_wNnbamq3z9QtS9dJAz7L-j6y__tkJQqqEhfZOS74dNIFLEAmtcryQ0"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)


  
ArgumentError (Missing authorization code.):
  
app/controllers/logins_controller.rb:47:in `callback_ga'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:49:34 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 142ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:49:35 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 137ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WADZqlMyi_8Ul8Sgc3Rw8i5BozbTyGY5kCIdMRneoIglEYS7pH0F1LX70w6CnHfsBZbfDqPykfcPPpZZ9POqjTc" for 127.0.0.1 at 2018-09-12 15:49:35 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WADZqlMyi_8Ul8Sgc3Rw8i5BozbTyGY5kCIdMRneoIglEYS7pH0F1LX70w6CnHfsBZbfDqPykfcPPpZZ9POqjTc"}
Completed 406 Not Acceptable in 580ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:49:53 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 121ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:49:54 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 86ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAB9MUYf9X3y5mHALhaywEVDaVext2BORHMg7_ELlEOC5WwfH4yTgRxZvLvHSXqc6O0Xm-NPEMqxnlT6J0Poq5Y" for 127.0.0.1 at 2018-09-12 15:49:54 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAB9MUYf9X3y5mHALhaywEVDaVext2BORHMg7_ELlEOC5WwfH4yTgRxZvLvHSXqc6O0Xm-NPEMqxnlT6J0Poq5Y"}
Completed 406 Not Acceptable in 877ms (ActiveRecord: 0.0ms)


  
ActionController::UnknownFormat (LoginsController#callback_ga is missing a template for this request format and variant.

request.formats: ["text/html"]
request.variant: []

NOTE! For XHR/Ajax or API requests, this action would normally respond with 204 No Content: an empty white screen. Since you're loading it in a web browser, we assume that you expected to actually render a template, not nothing, so we're showing an error to be extra-clear. If you expect 204 No Content, carry on. That's what you'll get from an XHR or API request. Give it a shot.):
  
actionpack (5.2.1) lib/action_controller/metal/implicit_render.rb:55:in `default_render'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (5.2.1) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:194:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (5.2.1) lib/active_support/callbacks.rb:132:in `run_callbacks'
actionpack (5.2.1) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:34:in `block in process_action'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `block in instrument'
activesupport (5.2.1) lib/active_support/notifications/instrumenter.rb:23:in `instrument'
activesupport (5.2.1) lib/active_support/notifications.rb:168:in `instrument'
actionpack (5.2.1) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (5.2.1) lib/action_controller/metal/params_wrapper.rb:256:in `process_action'
activerecord (5.2.1) lib/active_record/railties/controller_runtime.rb:24:in `process_action'
actionpack (5.2.1) lib/abstract_controller/base.rb:134:in `process'
actionview (5.2.1) lib/action_view/rendering.rb:32:in `process'
actionpack (5.2.1) lib/action_controller/metal.rb:191:in `dispatch'
actionpack (5.2.1) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:52:in `dispatch'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:34:in `serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:52:in `block in serve'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `each'
actionpack (5.2.1) lib/action_dispatch/journey/router.rb:35:in `serve'
actionpack (5.2.1) lib/action_dispatch/routing/route_set.rb:840:in `call'
rack (2.0.5) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.0.5) lib/rack/etag.rb:25:in `call'
rack (2.0.5) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.5) lib/rack/head.rb:12:in `call'
actionpack (5.2.1) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.0.5) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.5) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/cookies.rb:670:in `call'
activerecord (5.2.1) lib/active_record/migration.rb:559:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/callback_ga?code=4/WAB9MUYf9X3y5mHALhaywEVDaVext2BORHMg7_ELlEOC5WwfH4yTgRxZvLvHSXqc6O0Xm-NPEMqxnlT6J0Poq5Y" for 127.0.0.1 at 2018-09-12 15:52:53 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAB9MUYf9X3y5mHALhaywEVDaVext2BORHMg7_ELlEOC5WwfH4yTgRxZvLvHSXqc6O0Xm-NPEMqxnlT6J0Poq5Y"}
Completed 500 Internal Server Error in 313ms (ActiveRecord: 0.0ms)


  
Signet::AuthorizationError (Authorization failed.  Server message:
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}):
  
app/controllers/logins_controller.rb:53:in `callback_ga'
Started GET "/login/callback_ga?code=4%2FWAD_-Y4grNuLbUzxKxbUlKI9l_-v5byre5HsOJNAeaFtilq0_eJK1qmGRL6a2X1oWDWAJH27TTsiJ4SLvMeWE8c" for 127.0.0.1 at 2018-09-12 15:52:55 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAD_-Y4grNuLbUzxKxbUlKI9l_-v5byre5HsOJNAeaFtilq0_eJK1qmGRL6a2X1oWDWAJH27TTsiJ4SLvMeWE8c"}
Redirected to http://localhost:3000/
Completed 302 Found in 337ms (ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:52:57 +0700
  
ActionController::RoutingError (No route matches [GET] "/login"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:54:02 +0700
  [1m[35m (7.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 342ms (Views: 325.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:54:09 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 50ms (Views: 35.7ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:54:48 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (4.2ms)
Completed 200 OK in 122ms (Views: 118.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:54:53 +0700
Processing by LoginsController#prompt as HTML
Redirected to 
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `delete' for #<Addressable::URI:0x00007fd2421e31a8>):
  
app/controllers/logins_controller.rb:45:in `rescue in prompt'
app/controllers/logins_controller.rb:42:in `prompt'
Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:56:34 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 65ms (Views: 61.3ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:56:36 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 49ms (Views: 43.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:56:37 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.9ms)
Completed 200 OK in 86ms (Views: 71.8ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:57:44 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 64ms (Views: 58.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:57:47 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:57:47 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WADpoh70W3jFAnuehbHjzS3_fWq_JnxWgrtkoeTfEY7ffF0whi8RmSCaV-nJFEMZ7fxMzfdWyNFcwcqcAgAqZ7g" for 127.0.0.1 at 2018-09-12 15:57:48 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WADpoh70W3jFAnuehbHjzS3_fWq_JnxWgrtkoeTfEY7ffF0whi8RmSCaV-nJFEMZ7fxMzfdWyNFcwcqcAgAqZ7g"}
Redirected to http://localhost:3000/
Completed 302 Found in 361ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:57:48 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:57:48 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 45ms (Views: 37.3ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:58:03 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 108ms (Views: 100.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:58:04 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:58:04 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAAMqKcJh5IXgbjH1prNxVi1fXDGi9OZiqN9yEejLIWsFHIU7lzJWS5et6VWJdYMDaA1tlvYOO2ao6iPpoLldiw" for 127.0.0.1 at 2018-09-12 15:58:04 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAMqKcJh5IXgbjH1prNxVi1fXDGi9OZiqN9yEejLIWsFHIU7lzJWS5et6VWJdYMDaA1tlvYOO2ao6iPpoLldiw"}
Redirected to http://localhost:3000/
Completed 302 Found in 350ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:58:05 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:58:05 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 43ms (Views: 36.1ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 15:58:27 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 83ms (Views: 74.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:58:28 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 15:58:28 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WACfKpqLyjE2JkCQKeJaNC2dY5P8eo8T2Lt4GG0pTZIowzUnsoLBsS9h342UIkm5fdotnjMtpcvxVUhuMFiIfR0" for 127.0.0.1 at 2018-09-12 15:58:29 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WACfKpqLyjE2JkCQKeJaNC2dY5P8eo8T2Lt4GG0pTZIowzUnsoLBsS9h342UIkm5fdotnjMtpcvxVUhuMFiIfR0"}
Redirected to http://localhost:3000/
Completed 302 Found in 378ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 15:58:29 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 15:58:29 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.1ms)
Completed 200 OK in 66ms (Views: 57.7ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 16:02:36 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 76ms (Views: 72.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:02:48 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:02:49 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAAEOVX6H1z6GwWMCYiGb7aqyT5D3Uz02Mp5dKNs73AMd0dFpATndVQ4jwr33BfFnxd4stlnavGDhzeTwcj_7yY" for 127.0.0.1 at 2018-09-12 16:02:49 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAEOVX6H1z6GwWMCYiGb7aqyT5D3Uz02Mp5dKNs73AMd0dFpATndVQ4jwr33BfFnxd4stlnavGDhzeTwcj_7yY"}
Redirected to http://localhost:3000/
Completed 302 Found in 362ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:02:50 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:02:50 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.5ms)
Completed 200 OK in 59ms (Views: 50.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:03:48 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:03:48 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WABq15OtwC78OUp_w1hXmkWdDVPb4FWyxFGBfURIkUcwX9JJTGt4qpND493WRf0RdMbPuvFlP9UEFk4o6IU9iqY" for 127.0.0.1 at 2018-09-12 16:03:49 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABq15OtwC78OUp_w1hXmkWdDVPb4FWyxFGBfURIkUcwX9JJTGt4qpND493WRf0RdMbPuvFlP9UEFk4o6IU9iqY"}
Redirected to http://localhost:3000/
Completed 302 Found in 354ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:03:49 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/homes_controller.rb:24: syntax error, unexpected keyword_end, expecting end-of-input):
  
app/controllers/homes_controller.rb:24: syntax error, unexpected keyword_end, expecting end-of-input
Started GET "/" for 127.0.0.1 at 2018-09-12 16:03:59 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:03:59 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 85ms (Views: 71.1ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 16:04:03 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 45ms (Views: 35.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:04:04 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:04:04 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAAuWepZZH4-anLfGE48oB8y6GlaGruVMNX6zQEAwkaEr4U7SPcx7yfwxl0O8QazafNYytLsSO88x3XomhyFq_E" for 127.0.0.1 at 2018-09-12 16:04:05 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAuWepZZH4-anLfGE48oB8y6GlaGruVMNX6zQEAwkaEr4U7SPcx7yfwxl0O8QazafNYytLsSO88x3XomhyFq_E"}
Redirected to http://localhost:3000/
Completed 302 Found in 337ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:04:05 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:04:05 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.4ms)
Completed 200 OK in 39ms (Views: 32.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:05:18 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.1ms)
Completed 200 OK in 84ms (Views: 59.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:05:20 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:05:20 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WACYgNdxcCtU53fFj0K9PrwZibgjpTDGiSW2NTypLzI2dmXeBDLaZC-7WPhnRU8YyX0wKwcwTYetMkApptKAyJE" for 127.0.0.1 at 2018-09-12 16:05:20 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WACYgNdxcCtU53fFj0K9PrwZibgjpTDGiSW2NTypLzI2dmXeBDLaZC-7WPhnRU8YyX0wKwcwTYetMkApptKAyJE"}
Redirected to http://localhost:3000/
Completed 302 Found in 293ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:05:21 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:05:21 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 44ms (Views: 38.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:12:22 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:12:23 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAAQuRAkLLCp_WN2ywV0zOkCWsyU86lPMe6qM3hGr-1Ge_HJmuw4aj9m3BbirH4w8KHjJaheFAcWht5-kHJjkhY" for 127.0.0.1 at 2018-09-12 16:12:23 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAQuRAkLLCp_WN2ywV0zOkCWsyU86lPMe6qM3hGr-1Ge_HJmuw4aj9m3BbirH4w8KHjJaheFAcWht5-kHJjkhY"}
Completed 500 Internal Server Error in 377ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `to_datetime' for nil:NilClass):
  
app/controllers/logins_controller.rb:49:in `callback_ga'
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:12:45 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.9ms)
Completed 200 OK in 112ms (Views: 87.6ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WABtoeVLkFrt8FBX7CSDYAxCKIgj4Laxt23UtGIxx2ooB3WTDyrGmVEVt3ToynLTNuGRpWSLiHut9VP7DAJwZDY" for 127.0.0.1 at 2018-09-12 16:12:47 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WABtoeVLkFrt8FBX7CSDYAxCKIgj4Laxt23UtGIxx2ooB3WTDyrGmVEVt3ToynLTNuGRpWSLiHut9VP7DAJwZDY"}
Completed 500 Internal Server Error in 305ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `to_datetime' for nil:NilClass):
  
app/controllers/logins_controller.rb:66:in `callback'
Started GET "/login/callback?code=4/WADQZfs1-6j5ZWp_p0jJx_ggkYamDe7_tCJCef3XD9kWlZ5eqb4hkp6N_-wrAjRMgWR76PdRC-9n2AOtgpeOKgw" for 127.0.0.1 at 2018-09-12 16:13:07 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WADQZfs1-6j5ZWp_p0jJx_ggkYamDe7_tCJCef3XD9kWlZ5eqb4hkp6N_-wrAjRMgWR76PdRC-9n2AOtgpeOKgw"}
Started GET "/login/" for 127.0.0.1 at 2018-09-12 16:14:05 +0700
Completed 500 Internal Server Error in 70097ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `to_datetime' for nil:NilClass):
  
app/controllers/logins_controller.rb:66:in `callback'
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 48ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 16:14:18 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 99ms (Views: 49.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:14:23 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.9ms)
Completed 200 OK in 79ms (Views: 57.2ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WAAemtvRAEY9JbNITuEtu-eVAZkSoAjLEziKVdrIcXgtwz8YMnrmT395mQQJ2boJi35JXpK9dDfFjEA4COw-Yx4" for 127.0.0.1 at 2018-09-12 16:14:49 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAAemtvRAEY9JbNITuEtu-eVAZkSoAjLEziKVdrIcXgtwz8YMnrmT395mQQJ2boJi35JXpK9dDfFjEA4COw-Yx4"}
Completed 500 Internal Server Error in 627ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `access_token' for #<LoginsController:0x00007fd2440ca800>):
  
app/controllers/logins_controller.rb:65:in `callback'
Started GET "/login/callback?code=4/WABRyi9zAkqrXVsrQNeLgNN04aRtpS9SGUYoIn7YYPrWl9tse7q0PcRGQM2-az33rMTwGbzD5ajjddMCwHzc8nY" for 127.0.0.1 at 2018-09-12 16:15:11 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WABRyi9zAkqrXVsrQNeLgNN04aRtpS9SGUYoIn7YYPrWl9tse7q0PcRGQM2-az33rMTwGbzD5ajjddMCwHzc8nY"}
Completed 500 Internal Server Error in 589ms (ActiveRecord: 0.0ms)


  
NameError (undefined local variable or method `access_token' for #<LoginsController:0x00007fd242b8fcb0>):
  
app/controllers/logins_controller.rb:66:in `callback'
Started GET "/login/callback?code=4/WABRyi9zAkqrXVsrQNeLgNN04aRtpS9SGUYoIn7YYPrWl9tse7q0PcRGQM2-az33rMTwGbzD5ajjddMCwHzc8nY" for 127.0.0.1 at 2018-09-12 16:15:29 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WABRyi9zAkqrXVsrQNeLgNN04aRtpS9SGUYoIn7YYPrWl9tse7q0PcRGQM2-az33rMTwGbzD5ajjddMCwHzc8nY"}
Completed 500 Internal Server Error in 320ms (ActiveRecord: 0.0ms)


  
AdsCommon::Errors::AuthError (Authorization error occured: Authorization failed.  Server message:
{
  "error": "invalid_grant",
  "error_description": "Bad Request"
}):
  
app/controllers/logins_controller.rb:59:in `callback'
Started GET "/login/callback?code=4/WAAW5gx8wex2vF2gY_OrYAyrAhTUlOlDO-OJneB8XThD9karQT7ea4varVu7psQh2q2th7YxLTxTkx4MacZJRb8" for 127.0.0.1 at 2018-09-12 16:15:34 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAAW5gx8wex2vF2gY_OrYAyrAhTUlOlDO-OJneB8XThD9karQT7ea4varVu7psQh2q2th7YxLTxTkx4MacZJRb8"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:68
  [1m[36mOauth2Token Create (6.9ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlwWBr_IW_bZsN0B7CTUm3SvjrzQ1PM5pQaz_gCIvFgpHCYfCM3dhbH5qm8rf-oYX0Y-PLJ2GGJhXPwH0Bc9oBSIks3xfyY9ycDg8DoTx04akcrOkfb6DPIqb9eacA"], ["expiry", "3600"], ["created_at", "2018-09-12 09:15:34.444668"], ["updated_at", "2018-09-12 09:15:34.444668"], ["issued_at", "2018-09-12 09:15:34.415835"]]
  â†³ app/controllers/logins_controller.rb:68
  [1m[35m (3.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:68
Redirected to http://localhost:3000/
Completed 302 Found in 335ms (ActiveRecord: 19.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:15:34 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 62ms (Views: 57.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:16:08 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 85ms (Views: 76.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:17:04 +0700
Processing by LoginsController#prompt as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:17:04 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 138ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `create_analytis_api' for #<HomesController:0x00007fd2426f9750>
Did you mean?  create_analytis__request):
  
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:17:22 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.2ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBr_IW_bZsN0B7CTUm3SvjrzQ1PM5pQaz_gCIvFgpHCYfCM3dhbH5qm8rf-oYX0Y-PLJ2GGJhXPwH0Bc9oBSIks3xfyY9ycDg8DoTx04akcrOkfb6DPIqb9eacA"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 94ms (Views: 65.4ms | ActiveRecord: 5.8ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:17:26 +0700
Processing by LoginsController#prompt as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:17:26 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1[0m  [["access_token", "ya29.GlwWBr_IW_bZsN0B7CTUm3SvjrzQ1PM5pQaz_gCIvFgpHCYfCM3dhbH5qm8rf-oYX0Y-PLJ2GGJhXPwH0Bc9oBSIks3xfyY9ycDg8DoTx04akcrOkfb6DPIqb9eacA"]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 55ms (Views: 46.5ms | ActiveRecord: 0.4ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:17:34 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:17:34 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 16:17:40 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 101ms (Views: 92.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:17:43 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:17:43 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4%2FWACZ1mjgdOKEJRBPEvD-BprUxbBs03dCzrIGI-105zISdgxnAFcDXIpDSmupowfN9KTdUhi93kWrUnDHaAV5QTg" for 127.0.0.1 at 2018-09-12 16:17:50 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WACZ1mjgdOKEJRBPEvD-BprUxbBs03dCzrIGI-105zISdgxnAFcDXIpDSmupowfN9KTdUhi93kWrUnDHaAV5QTg"}
Redirected to http://localhost:3000/
Completed 302 Found in 313ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:17:50 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:17:50 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.7ms)
Completed 200 OK in 74ms (Views: 65.7ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 16:35:50 +0700
  
ActionController::RoutingError (undefined local variable or method `r' for ApplicationController:Class):
  
app/controllers/application_controller.rb:74:in `<class:ApplicationController>'
app/controllers/application_controller.rb:5:in `<main>'
app/controllers/logins_controller.rb:3:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:36:17 +0700
  
ActionController::RoutingError (undefined local variable or method `r' for ApplicationController:Class):
  
app/controllers/application_controller.rb:74:in `<class:ApplicationController>'
app/controllers/application_controller.rb:5:in `<main>'
app/controllers/homes_controller.rb:2:in `<main>'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:36:31 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:36:31 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.8ms)
Completed 200 OK in 98ms (Views: 85.3ms | ActiveRecord: 0.0ms)


Started GET "/login/" for 127.0.0.1 at 2018-09-12 16:36:36 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 83ms (Views: 69.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:36:37 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 13691ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:36:51 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 1813ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WABA2fKNHKDDQKVY_mmeMqARemh7Z7PI2LhfWJ1btVdBvrYnN7KewCnvUgBJ9W-w_5Ky5YMXTFxOfN6C7LhxywA" for 127.0.0.1 at 2018-09-12 16:36:53 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABA2fKNHKDDQKVY_mmeMqARemh7Z7PI2LhfWJ1btVdBvrYnN7KewCnvUgBJ9W-w_5Ky5YMXTFxOfN6C7LhxywA"}
Redirected to http://localhost:3000/
Completed 302 Found in 355ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:36:54 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:36:54 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.9ms)
Completed 200 OK in 51ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:37:00 +0700
Processing by LoginsController#prompt_ga as HTML
Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:37:29 +0700
  [1m[35m (7.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 102002ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WAAj-MGwhNxbLlv5MoQbNxrI_NKMRORw--cVxyAUZy1CZcrOHMIE4m527FsKi0gcQJZfhDvoh5KptGsDqaRjoFk" for 127.0.0.1 at 2018-09-12 16:39:13 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAj-MGwhNxbLlv5MoQbNxrI_NKMRORw--cVxyAUZy1CZcrOHMIE4m527FsKi0gcQJZfhDvoh5KptGsDqaRjoFk"}
Redirected to http://localhost:3000/
Completed 302 Found in 343ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:39:23 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:39:23 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (2.8ms)
Completed 200 OK in 307ms (Views: 295.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:39:34 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:39:34 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:39:34 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.8ms)
Completed 200 OK in 93ms (Views: 81.3ms | ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:40:14 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:40:19 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login/prompt
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:40:19 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.7ms)
Completed 200 OK in 129ms (Views: 114.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:42:36 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 16:42:36 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 72ms (Views: 59.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:42:40 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:42:40 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4%2FWABOq1GGFULFJdAye14oHUIcTiY5tZVWXOFYGvncotFPUTk9V_R4Q1FiQ7xwjfaM69_Bo0skXUAJnkTUDkr5OWI" for 127.0.0.1 at 2018-09-12 16:42:48 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABOq1GGFULFJdAye14oHUIcTiY5tZVWXOFYGvncotFPUTk9V_R4Q1FiQ7xwjfaM69_Bo0skXUAJnkTUDkr5OWI"}
Redirected to http://localhost:3000/
Completed 302 Found in 312ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:42:48 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (16.4ms)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `with_indifferent_access' for nil:NilClass):
    12: 
    13: <h1>Your session token:</h1>
    14: 
    15: <% session2 = session[:token_adwords].with_indifferent_access%>
    16: 
    17: <% session2.each do |k, v|%>
    18: <p>
  
app/views/homes/index.html.erb:15:in `_app_views_homes_index_html_erb___347341524115495307_70337755468420'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:43:22 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (5.0ms)
Completed 500 Internal Server Error in 3413ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12: 
    13: <h1>Your session token:</h1>
    14: 
    15: <% @session.each do |k, v|%>
    16: <p>
    17:   <%= k %>:
    18:   <%= v %>
  
app/views/homes/index.html.erb:15:in `_app_views_homes_index_html_erb___347341524115495307_70337833833340'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:43:39 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (9.4ms)
Completed 500 Internal Server Error in 17199ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12: 
    13: <h1>Your session token:</h1>
    14: 
    15: <% @session.each do |k, v|%>
    16: <p>
    17:   <%= k %>:
    18:   <%= v %>
  
app/views/homes/index.html.erb:15:in `_app_views_homes_index_html_erb___3415533043478125341_70201522653300'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:45:00 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/views/homes/index.html.erb:32: syntax error, unexpected end-of-input, expecting keyword_end
          end
             ^):
  
app/views/homes/index.html.erb:32: syntax error, unexpected end-of-input, expecting keyword_end
Started GET "/" for 127.0.0.1 at 2018-09-12 16:45:31 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (9.4ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12: 
    13: <h1>Your token_adwords token:</h1>
    14: 
    15: <% @token_adwords.each do |k, v|%>
    16: <p>
    17:   <%= k %>:
    18:   <%= v %>
  
app/views/homes/index.html.erb:15:in `_app_views_homes_index_html_erb___3415533043478125341_70201515364080'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:48:27 +0700
  [1m[35m (7.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (7.1ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12: 
    13: <h1>Your token_adwords token:</h1>
    14: <%if  @token_analytics.present?%>
    15:   <% @token_adwords.each do |k, v|%>
    16:   <p>
    17:     <%= k %>:
    18:     <%= v %>
  
app/views/homes/index.html.erb:15:in `_app_views_homes_index_html_erb___69524484908897755_70277221648420'
Started GET "/" for 127.0.0.1 at 2018-09-12 16:50:25 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 255ms (Views: 243.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:50:30 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 48ms (Views: 37.6ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 16:50:38 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 65ms (Views: 51.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:50:39 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:50:39 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 81ms (Views: 73.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:20 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 45ms (Views: 39.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:51:22 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (0.6ms)
Completed 200 OK in 80ms (Views: 68.1ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WACAoTn4jePojkensCrjPXmAwyhIWLIZepE_fynY-bHNaw-hJ99Sr3iNCZI3VMgSj0x2gsdmZyxnBXnM4btugu0" for 127.0.0.1 at 2018-09-12 16:51:24 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WACAoTn4jePojkensCrjPXmAwyhIWLIZepE_fynY-bHNaw-hJ99Sr3iNCZI3VMgSj0x2gsdmZyxnBXnM4btugu0"}
Redirected to http://localhost:3000/
Completed 302 Found in 380ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:25 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 32ms (Views: 28.3ms | ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:51:47 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:51:47 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:51 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 36ms (Views: 32.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:53 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 40ms (Views: 34.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:54 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 43ms (Views: 38.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:55 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 39ms (Views: 33.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:55 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 73ms (Views: 67.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:56 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 41ms (Views: 35.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:56 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 40ms (Views: 36.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:57 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 82ms (Views: 75.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:57 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 63ms (Views: 56.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:51:58 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 78ms (Views: 72.5ms | ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:52:13 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:52:13 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:52:16 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 16:52:16 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 70ms (Views: 65.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 16:52:18 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.erb within layouts/application
  Rendered logins/prompt.html.erb within layouts/application (1.8ms)
Completed 200 OK in 87ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWACynCBTUtXjsd8bPF4IKozF1PvBlRSPCE7yiS6MEN36lJWGkyAKMr2cFn6vlfyRO4alZ4YL2AQnKOHM0eVIIGA" for 127.0.0.1 at 2018-09-12 16:52:28 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WACynCBTUtXjsd8bPF4IKozF1PvBlRSPCE7yiS6MEN36lJWGkyAKMr2cFn6vlfyRO4alZ4YL2AQnKOHM0eVIIGA"}
Redirected to http://localhost:3000/
Completed 302 Found in 310ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:52:29 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 45ms (Views: 40.8ms | ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:53:04 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 16:53:04 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:53:08 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 16:53:08 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.erb within layouts/application
  Rendered logins/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 54ms (Views: 49.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:53:11 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 16:53:12 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4%2FWACRhzCPK0q4c9lsyfPR7tlK16jAKSLKPxg6TKCTdp6_vovL2cKPmPrLEb6KlupFON3gPZkrFYZj5yYXXZRi5bI" for 127.0.0.1 at 2018-09-12 16:53:20 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WACRhzCPK0q4c9lsyfPR7tlK16jAKSLKPxg6TKCTdp6_vovL2cKPmPrLEb6KlupFON3gPZkrFYZj5yYXXZRi5bI"}
Redirected to http://localhost:3000/
Completed 302 Found in 344ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 16:53:20 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.erb within layouts/application
  Rendered homes/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 52ms (Views: 48.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:08:01 +0700
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by HomesController#index as HTML
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (16.8ms)
Completed 200 OK in 293ms (Views: 281.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:09:38 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (7.6ms)
Completed 200 OK in 77ms (Views: 72.9ms | ActiveRecord: 0.0ms)


  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" ORDER BY "oauth2_tokens"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:13:30 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (13.7ms)
Completed 200 OK in 88ms (Views: 73.2ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WABzdZk-6-sWE2Fxu1sf-rrw3h2oA_tiVRBXWt-CiyFop2bGfLq5a5zVBgIP1X-AW5yXAld7ZpG0W2ijPlQ2HEs" for 127.0.0.1 at 2018-09-12 17:13:45 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WABzdZk-6-sWE2Fxu1sf-rrw3h2oA_tiVRBXWt-CiyFop2bGfLq5a5zVBgIP1X-AW5yXAld7ZpG0W2ijPlQ2HEs"}
Redirected to http://localhost:3000/
Completed 302 Found in 383ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:13:45 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.1ms)
Completed 200 OK in 64ms (Views: 59.8ms | ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:13:56 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:13:57 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:14:00 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:14:00 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (4.8ms)
Completed 200 OK in 71ms (Views: 59.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:14:02 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:14:02 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:14:07 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (12.2ms)
Completed 200 OK in 191ms (Views: 167.4ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWAAenG9DGWxr__fjDp1ZSEpaXMFLFTBGVEgOFXMCEPnwWPOZPcZV7MyCVr5QjUQAAa8cJ25QuVDHUnzluppWuac" for 127.0.0.1 at 2018-09-12 17:14:20 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAAenG9DGWxr__fjDp1ZSEpaXMFLFTBGVEgOFXMCEPnwWPOZPcZV7MyCVr5QjUQAAa8cJ25QuVDHUnzluppWuac"}
Redirected to http://localhost:3000/
Completed 302 Found in 323ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:14:20 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.3ms)
Completed 200 OK in 57ms (Views: 53.7ms | ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:16:17 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:16:17 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:16:40 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:16:40 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (13.8ms)
Completed 200 OK in 99ms (Views: 94.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:16:46 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (25.5ms)
Completed 200 OK in 111ms (Views: 90.0ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWAB3Mn62gZ8V9QFrAfnxUbiEoAnapFwhAzls4S0XKGWW0nEHUeydzpnSSVPCNqcpTGgAhopnzf25_sMYhRwpvcg" for 127.0.0.1 at 2018-09-12 17:16:58 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAB3Mn62gZ8V9QFrAfnxUbiEoAnapFwhAzls4S0XKGWW0nEHUeydzpnSSVPCNqcpTGgAhopnzf25_sMYhRwpvcg"}
Redirected to http://localhost:3000/
Completed 302 Found in 359ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:16:58 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.7ms)
Completed 200 OK in 64ms (Views: 59.2ms | ActiveRecord: 0.0ms)


  [1m[36mOauth2Token Load (18.1ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE (access_token like '%wwJyAvgdqMp8xIna3QPZ1kDiNSqYk4F2aJ2fctJCrdEQ%') LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for 127.0.0.1 at 2018-09-12 17:19:44 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)


  
NameError (uninitialized constant HomesController::OAuth2Token):
  
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:19:59 +0700
Processing by HomesController#index as HTML
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (13.9ms)
Completed 500 Internal Server Error in 40ms (ActiveRecord: 7.9ms)


  
ActionView::Template::Error (can't cast Hash):
    10: = link_to 'login', login_prompt_path if session[:token_adwords].blank?
    11: h1
    12:   | Your token_adwords token:
    13: - if  @token_adwords.present?
    14:   - @token_adwords.each do |k, v|
    15:     p
    16:       = k
  
app/views/homes/index.html.slim:13:in `_app_views_homes_index_html_slim__3585896216521004283_70196601139640'
Started PUT "/__web_console/repl_sessions/57fee7e0fc285de96a3424d127306cd8" for 127.0.0.1 at 2018-09-12 17:20:09 +0700
Started PUT "/__web_console/repl_sessions/57fee7e0fc285de96a3424d127306cd8" for 127.0.0.1 at 2018-09-12 17:20:11 +0700
Started PUT "/__web_console/repl_sessions/57fee7e0fc285de96a3424d127306cd8" for 127.0.0.1 at 2018-09-12 17:20:12 +0700
Started GET "/" for 127.0.0.1 at 2018-09-12 17:20:27 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 21ms (ActiveRecord: 5.5ms)


  
TypeError (can't cast Hash):
  
app/controllers/homes_controller.rb:4:in `index'
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:35 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:35 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:36 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:37 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:37 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:38 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:38 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:20:44 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:21:00 +0700
Started PUT "/__web_console/repl_sessions/93b8bcccf83dfc2a8bd6065e99fa3610" for 127.0.0.1 at 2018-09-12 17:21:07 +0700
Started GET "/" for 127.0.0.1 at 2018-09-12 17:21:28 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
TypeError (can't cast Hash):
  
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:21:31 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)


  
TypeError (can't cast Hash):
  
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:22:06 +0700
Processing by HomesController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)


  
TypeError (can't cast Hash):
  
app/controllers/homes_controller.rb:4:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:22:27 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" IS NULL ORDER BY "oauth2_tokens"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
Completed 500 Internal Server Error in 30ms (ActiveRecord: 7.8ms)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/homes_controller.rb:5:in `index'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:22:37 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBlWxF0UZ0N3hFu863xFir9ubIlaU1c-tBPxIFe8nsIxeXzhRZRo-KyhaeFvd8rANZ-1lAxUA8xXuM-wwJyAvgdqMp8xIna3QPZ1kDiNSqYk4F2aJ2fctJCrdEQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
Completed 500 Internal Server Error in 42ms (ActiveRecord: 7.0ms)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/homes_controller.rb:5:in `index'
Started PUT "/__web_console/repl_sessions/cba7f66b46bbfa27056643fb620d8a2c" for 127.0.0.1 at 2018-09-12 17:22:46 +0700
Started PUT "/__web_console/repl_sessions/cba7f66b46bbfa27056643fb620d8a2c" for 127.0.0.1 at 2018-09-12 17:22:47 +0700
Started PUT "/__web_console/repl_sessions/cba7f66b46bbfa27056643fb620d8a2c" for 127.0.0.1 at 2018-09-12 17:22:48 +0700
Started PUT "/__web_console/repl_sessions/cba7f66b46bbfa27056643fb620d8a2c" for 127.0.0.1 at 2018-09-12 17:22:49 +0700
Started PUT "/__web_console/repl_sessions/cba7f66b46bbfa27056643fb620d8a2c" for 127.0.0.1 at 2018-09-12 17:23:00 +0700
Started PUT "/__web_console/repl_sessions/cba7f66b46bbfa27056643fb620d8a2c" for 127.0.0.1 at 2018-09-12 17:23:01 +0700
Started GET "/" for 127.0.0.1 at 2018-09-12 17:23:19 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBlWxF0UZ0N3hFu863xFir9ubIlaU1c-tBPxIFe8nsIxeXzhRZRo-KyhaeFvd8rANZ-1lAxUA8xXuM-wwJyAvgdqMp8xIna3QPZ1kDiNSqYk4F2aJ2fctJCrdEQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (14.3ms)
Completed 200 OK in 151ms (Views: 105.9ms | ActiveRecord: 12.1ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:23:31 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:23:31 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:23:36 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:23:36 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (3.9ms)
Completed 200 OK in 54ms (Views: 50.2ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:23:44 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (15.9ms)
Completed 200 OK in 109ms (Views: 92.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:23:52 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (5.9ms)
Completed 200 OK in 50ms (Views: 42.5ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWAD4r6lDZj3tZS_eCfA--UrECZugOnxr8PjHbLL81Eh7tp2vn2Zl11f-m0tolE5RLpGLOL07OqoRB8dAelVDajo" for 127.0.0.1 at 2018-09-12 17:24:01 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAD4r6lDZj3tZS_eCfA--UrECZugOnxr8PjHbLL81Eh7tp2vn2Zl11f-m0tolE5RLpGLOL07OqoRB8dAelVDajo"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:71
  [1m[36mOauth2Token Create (0.7ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["token_type", "adwords"], ["expiry", "3600"], ["created_at", "2018-09-12 10:24:01.880174"], ["updated_at", "2018-09-12 10:24:01.880174"], ["issued_at", "2018-09-12 10:24:01.870586"]]
  â†³ app/controllers/logins_controller.rb:71
  [1m[35m (9.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:71
Redirected to http://localhost:3000/
Completed 302 Found in 401ms (ActiveRecord: 10.1ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:24:01 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (8.4ms)
Completed 200 OK in 64ms (Views: 47.4ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:24:54 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (10.1ms)
Completed 200 OK in 95ms (Views: 86.1ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:25:10 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (6.0ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.5ms)
Completed 200 OK in 75ms (Views: 61.3ms | ActiveRecord: 6.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:25:41 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (20.5ms)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `each' for #<Oauth2Token:0x00007fafde8206a0>):
    11: h1
    12:   | Your token_adwords token:
    13: - if  @token_adwords.present?
    14:   = @token_adwords.each do |k, v|
    15:     = k
    16:     | :
    17:     = v
  
app/views/homes/index.html.slim:14:in `_app_views_homes_index_html_slim__3585896216521004283_70196659059280'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:25:53 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (19.2ms)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 0.8ms)


  
ActionView::Template::Error (undefined method `each' for #<String:0x00007fafd74eacd0>):
    11: h1
    12:   | Your token_adwords token:
    13: - if  @token_adwords.present?
    14:   = @token_adwords.inspect.each do |k, v|
    15:     = k
    16:     | :
    17:     = v
  
app/views/homes/index.html.slim:14:in `_app_views_homes_index_html_slim__3585896216521004283_70196657446700'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:25:59 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (18.0ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 0.6ms)


  
ActionView::Template::Error (undefined method `to_h' for #<Oauth2Token:0x00007fafd9cd50b0>
Did you mean?  to_s):
    11: h1
    12:   | Your token_adwords token:
    13: - if  @token_adwords.present?
    14:   = @token_adwords.to_h.each do |k, v|
    15:     = k
    16:     | :
    17:     = v
  
app/views/homes/index.html.slim:14:in `_app_views_homes_index_html_slim__3585896216521004283_70196624875000'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:26:14 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (16.9ms)
Completed 500 Internal Server Error in 43ms (ActiveRecord: 1.6ms)


  
ActionView::Template::Error (undefined method `index_by' for #<Oauth2Token:0x00007fafd6f1f6e8>):
    11: h1
    12:   | Your token_adwords token:
    13: - if  @token_adwords.present?
    14:   = @token_adwords.index_by(&:id).each do |k, v|
    15:     = k
    16:     | :
    17:     = v
  
app/views/homes/index.html.slim:14:in `_app_views_homes_index_html_slim__3585896216521004283_70196601090580'
Started GET "/" for 127.0.0.1 at 2018-09-12 17:26:34 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (8.5ms)
Completed 200 OK in 91ms (Views: 79.9ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:26:39 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (4.2ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.6ms)
Completed 200 OK in 77ms (Views: 64.0ms | ActiveRecord: 4.2ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:27:00 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.1ms)
Completed 200 OK in 74ms (Views: 63.2ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:27:04 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.7ms)
Completed 200 OK in 72ms (Views: 62.3ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:27:14 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (2.0ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.2ms)
Completed 200 OK in 88ms (Views: 75.2ms | ActiveRecord: 2.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:27:20 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.3ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.5ms)
Completed 200 OK in 74ms (Views: 64.3ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:27:41 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (3.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (8.1ms)
Completed 200 OK in 67ms (Views: 55.6ms | ActiveRecord: 3.6ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:27:51 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_a" for 127.0.0.1 at 2018-09-12 17:27:51 +0700
  
ActionController::RoutingError (No route matches [GET] "/login/prompt_a"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/login/callback_ga?code=4/WAByzw0cKwjehALPp-cE5KR9rcek1EH0cC-dR3aC1I7sLMIupsXuRGgQ2u18bzG2t3YvOWVhKrhwNTvonlXZhyM" for 127.0.0.1 at 2018-09-12 17:27:51 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAByzw0cKwjehALPp-cE5KR9rcek1EH0cC-dR3aC1I7sLMIupsXuRGgQ2u18bzG2t3YvOWVhKrhwNTvonlXZhyM"}
Redirected to http://localhost:3000/
Completed 302 Found in 446ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:27:52 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (3.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (3.1ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBqXz4wqG4HNs0RClKjrhAROfbgj4WAAbR1jLsSY9BNTT_k4SRTaoA3c2qpOVmqMxhg5xoR0qwd6-usY-ZRXn9Q_5N0BZlZ1UK97pOtIb7iuxkTZYironX-YU"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (9.4ms)
Completed 200 OK in 99ms (Views: 80.8ms | ActiveRecord: 6.8ms)


Started GET "/login/callback_ga?code=4/WADYTADaNVt2aaVZgfbSgrDWygn7kzuHPJmyK06j1pryWjsXkXr1INmtI32AWadRxurAbw6LqHVVgc68yOBSlII" for 127.0.0.1 at 2018-09-12 17:27:53 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WADYTADaNVt2aaVZgfbSgrDWygn7kzuHPJmyK06j1pryWjsXkXr1INmtI32AWadRxurAbw6LqHVVgc68yOBSlII"}
Redirected to http://localhost:3000/
Completed 302 Found in 326ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:28:40 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBuqaIRniYvjx1MbvEfDK6iDpq7Vqg1QppjsKTQL0IpWrW8LNTo2y4VD9LNbASnMAii2Qrf_QR2YEj86Q9MkSgp7NGpTGybaEzXsKTc3h4jBs4Tg-hiYE9rNZ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.5ms)
Completed 200 OK in 70ms (Views: 50.0ms | ActiveRecord: 1.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:28:47 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:28:47 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBpU4-dLFkLa-N07YkTBfRPPQYJQaYk-mqNPkEUp5j2xnXMt4WWR6kd5UbOY3kfLxapWTp9xq2-H95k11QhmoIczdwIY9SRhjnOTjY3ApJhhPxa8nvbcWHwe9jQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (14.0ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBuqaIRniYvjx1MbvEfDK6iDpq7Vqg1QppjsKTQL0IpWrW8LNTo2y4VD9LNbASnMAii2Qrf_QR2YEj86Q9MkSgp7NGpTGybaEzXsKTc3h4jBs4Tg-hiYE9rNZ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.8ms)
Completed 200 OK in 68ms (Views: 40.5ms | ActiveRecord: 14.9ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:28:49 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:28:49 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:28:53 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:28:53 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (6.1ms)
Completed 200 OK in 67ms (Views: 53.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:29:00 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:29:00 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4%2FWABwjej8DNXFm6jT0ucZfB0dUPte7HjTqBib9r0Epp0nyt8EVzXF9k-PBAOOZOcV2snZFqMPE3eM9xXfQ3ljuQ8" for 127.0.0.1 at 2018-09-12 17:29:09 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABwjej8DNXFm6jT0ucZfB0dUPte7HjTqBib9r0Epp0nyt8EVzXF9k-PBAOOZOcV2snZFqMPE3eM9xXfQ3ljuQ8"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:55
  [1m[36mOauth2Token Create (10.7ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("token_type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["token_type", "adwords"], ["created_at", "2018-09-12 10:29:10.310318"], ["updated_at", "2018-09-12 10:29:10.310318"]]
  â†³ app/controllers/logins_controller.rb:55
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:55
Redirected to http://localhost:3000/
Completed 302 Found in 337ms (ActiveRecord: 11.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:29:10 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBnUXaNuwNnYaHJ3inai4Wt16OYbLcFdQXbf4bxLC55MZdhyv3znc15Se05I1R5yTHkXORhAZZu_LJ4YxDfwlGEXuyPVfOuiHn9fzdd3-JT-hjYlxVZ9qODJ1"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (3.3ms)
Completed 200 OK in 61ms (Views: 52.1ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:29:24 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" ORDER BY "oauth2_tokens"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ (pry):3
Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:32:11 +0700
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBnUXaNuwNnYaHJ3inai4Wt16OYbLcFdQXbf4bxLC55MZdhyv3znc15Se05I1R5yTHkXORhAZZu_LJ4YxDfwlGEXuyPVfOuiHn9fzdd3-JT-hjYlxVZ9qODJ1"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.2ms)
Completed 200 OK in 170491ms (Views: 87.7ms | ActiveRecord: 8.2ms)


Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (14.0ms)
Completed 200 OK in 136ms (Views: 98.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:32:19 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (8.2ms)
Completed 200 OK in 102ms (Views: 83.2ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WABaLNouiTVEXOGs2Qz--iZtVzYVmo63gqeN6F_zuNVehvuAf2qlQW9Pyh1kInnCn2RE2WiHHAl63WBx0Cg9b0A" for 127.0.0.1 at 2018-09-12 17:32:20 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WABaLNouiTVEXOGs2Qz--iZtVzYVmo63gqeN6F_zuNVehvuAf2qlQW9Pyh1kInnCn2RE2WiHHAl63WBx0Cg9b0A"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:74
  [1m[36mOauth2Token Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("token_type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["token_type", "adwords"], ["created_at", "2018-09-12 10:32:21.282717"], ["updated_at", "2018-09-12 10:32:21.282717"]]
  â†³ app/controllers/logins_controller.rb:74
  [1m[35m (7.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:74
Redirected to http://localhost:3000/
Completed 302 Found in 372ms (ActiveRecord: 11.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:32:21 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBuJW1vxmRKWDmcBhvITo7qbjqWEdt9ddirt5GxuBW-ztKRTEcPmC-8ZETPu54L7xf_BzBkIa1-bSI018GSgZ-2mt5YQw_oTPUJRXUjq5F5h4wI7QrXihMqS0BQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBnUXaNuwNnYaHJ3inai4Wt16OYbLcFdQXbf4bxLC55MZdhyv3znc15Se05I1R5yTHkXORhAZZu_LJ4YxDfwlGEXuyPVfOuiHn9fzdd3-JT-hjYlxVZ9qODJ1"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:6
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (9.5ms)
Completed 200 OK in 8297ms (Views: 97.9ms | ActiveRecord: 1.1ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:32:32 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:32:33 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:32:37 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:32:37 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (14.9ms)
Completed 200 OK in 81ms (Views: 71.6ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:32:39 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (13.3ms)
Completed 200 OK in 102ms (Views: 77.8ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWACTDYBf15vZaE9G0LeGIgYOlWbW9OFnee7wJXPt4FDUuE90OcKPkZFmN0tA3IFMIoLL3Z1MzQZBvuWWDUnD3L0" for 127.0.0.1 at 2018-09-12 17:32:48 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WACTDYBf15vZaE9G0LeGIgYOlWbW9OFnee7wJXPt4FDUuE90OcKPkZFmN0tA3IFMIoLL3Z1MzQZBvuWWDUnD3L0"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:74
  [1m[36mOauth2Token Create (6.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("token_type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["token_type", "adwords"], ["created_at", "2018-09-12 10:32:49.082521"], ["updated_at", "2018-09-12 10:32:49.082521"]]
  â†³ app/controllers/logins_controller.rb:74
  [1m[35m (4.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:74
Redirected to http://localhost:3000/
Completed 302 Found in 406ms (ActiveRecord: 15.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:32:49 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBtQka9uvqg3cIluPGuJfh-TdfmoGIJR51SKwIk1sKdNHHxkzcThFTE-F4VcClIQQzS1DZm7lq-7ivkHJVM0sfdJFedVhiYfgm_HKarmKABdj9DDhJ27j_EcjOw"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (12.5ms)
Completed 200 OK in 72ms (Views: 66.0ms | ActiveRecord: 0.4ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:33:59 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:34:00 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:35:26 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:35:26 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (14.2ms)
Completed 200 OK in 116ms (Views: 111.5ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:35:27 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (7.9ms)
Completed 200 OK in 106ms (Views: 73.8ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWABn18yNhq_AdpKQNbsYEoLcVyqbq1bHtIvDZR0ofKio_LGmJ5Hzb_ktbcN1vTM5elMnnBYN_VNIcgR-0mLIGhY" for 127.0.0.1 at 2018-09-12 17:35:36 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WABn18yNhq_AdpKQNbsYEoLcVyqbq1bHtIvDZR0ofKio_LGmJ5Hzb_ktbcN1vTM5elMnnBYN_VNIcgR-0mLIGhY"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:74
  [1m[36mOauth2Token Create (3.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("token_type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["token_type", "adwords"], ["created_at", "2018-09-12 10:35:36.957104"], ["updated_at", "2018-09-12 10:35:36.957104"]]
  â†³ app/controllers/logins_controller.rb:74
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:74
Redirected to http://localhost:3000/
Completed 302 Found in 387ms (ActiveRecord: 13.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:35:36 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.0ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBrwhxJtJiYF0lQBd2B6ZxyoERE9OtkhdhmpbGBNDjdb9F2epMVkSpxz_mKUNfbririnH5uk-NHHfIgkvPqhbyQICkcwNIIGOI7jOegDbziy_P1xjPDjAK2iqhQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (10.0ms)
Completed 200 OK in 59ms (Views: 51.0ms | ActiveRecord: 1.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:36:04 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:36:04 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:36:07 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:36:07 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (34.7ms)
Completed 200 OK in 96ms (Views: 90.4ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:36:10 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (8.1ms)
Completed 200 OK in 90ms (Views: 69.6ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWAB6-GxTh0e7Vr1zacQ2zV8i5aZMgbRoRirBkeNhtPlfvzHuRS27Nh6sKImlIfkKMw9q4vrJh8e5MFUa5sovqJk" for 127.0.0.1 at 2018-09-12 17:36:32 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAB6-GxTh0e7Vr1zacQ2zV8i5aZMgbRoRirBkeNhtPlfvzHuRS27Nh6sKImlIfkKMw9q4vrJh8e5MFUa5sovqJk"}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:75
  [1m[36mOauth2Token Create (0.8ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("token_type", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["token_type", "adwords"], ["created_at", "2018-09-12 10:36:51.219158"], ["updated_at", "2018-09-12 10:36:51.219158"]]
  â†³ app/controllers/logins_controller.rb:75
  [1m[35m (8.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 67764ms (ActiveRecord: 16.2ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:37:39 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBjGdySjB_u90stBSUSGLWl6FzbyITMFB09I0Ou9rZ52shsNLt6lBzlMVv7Xu6O8LJaN0O8-e4o3NOmkT5o9FL27Q9C8EIUM9vH7iTHLbUluXq_w84K5NcI0p6Q"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (3.9ms)
Completed 200 OK in 69ms (Views: 53.3ms | ActiveRecord: 4.1ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:37:42 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:37:42 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:37:46 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:37:46 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (3.9ms)
Completed 200 OK in 61ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:37:59 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (10.0ms)
Completed 200 OK in 138ms (Views: 117.0ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWAB-Hx-UUPgRpe3q9AqeRtj7FUvLGanj3MX4nWLen7f3G2w6saCS4aBMAnkGML3IM-U0viWSJR9vvwmXXAhV_AI" for 127.0.0.1 at 2018-09-12 17:38:08 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAB-Hx-UUPgRpe3q9AqeRtj7FUvLGanj3MX4nWLen7f3G2w6saCS4aBMAnkGML3IM-U0viWSJR9vvwmXXAhV_AI"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:75
  [1m[36mOauth2Token Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["token_type", "adwords"], ["expiry", "3600"], ["created_at", "2018-09-12 10:38:15.550086"], ["updated_at", "2018-09-12 10:38:15.550086"], ["issued_at", "2018-09-12 10:38:08.573526"]]
  â†³ app/controllers/logins_controller.rb:75
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 7445ms (ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:38:15 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (14.5ms)
Completed 200 OK in 57ms (Views: 51.9ms | ActiveRecord: 0.4ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:38:24 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WABFhjswwMsv1Slw7Uk1_rMq_Xo8rbcnIMVkBAaeclTFK1N8lJ016ejTkq2rfZcaXUpN6Eo0Pbjjs-_vNfQGxO0" for 127.0.0.1 at 2018-09-12 17:38:24 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABFhjswwMsv1Slw7Uk1_rMq_Xo8rbcnIMVkBAaeclTFK1N8lJ016ejTkq2rfZcaXUpN6Eo0Pbjjs-_vNfQGxO0"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:55
  [1m[36mOauth2Token Create (0.3ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlsWBjiitI9kLj_w366henOx5vNAi4BbMGDE7VnFLzDGzwjM8Rxg9_WPy5WRiCsU6O4omGVhD5wKCZZAUM7RE-q7wu2qHqH24XlN4qgz9OZpgkF1WBy_UhR2Dvh-"], ["token_type", "analytics"], ["expiry", "3600"], ["created_at", "2018-09-12 10:38:24.877583"], ["updated_at", "2018-09-12 10:38:24.877583"]]
  â†³ app/controllers/logins_controller.rb:55
  [1m[35m (8.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:55
Redirected to http://localhost:3000/
Completed 302 Found in 398ms (ActiveRecord: 9.2ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:38:24 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBjiitI9kLj_w366henOx5vNAi4BbMGDE7VnFLzDGzwjM8Rxg9_WPy5WRiCsU6O4omGVhD5wKCZZAUM7RE-q7wu2qHqH24XlN4qgz9OZpgkF1WBy_UhR2Dvh-"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.4ms)
Completed 200 OK in 66ms (Views: 58.8ms | ActiveRecord: 0.9ms)


Started GET "/login/callback_ga?code=4/WAAP-EwFKTK9mvttHqqb2VfUyZBobNAtV4sy1XRj6vuOU1RkMvEPteSEaV4z-gO4xkT7AjDmyRHCFd8JDICQ10E" for 127.0.0.1 at 2018-09-12 17:38:25 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAP-EwFKTK9mvttHqqb2VfUyZBobNAtV4sy1XRj6vuOU1RkMvEPteSEaV4z-gO4xkT7AjDmyRHCFd8JDICQ10E"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:55
  [1m[36mOauth2Token Create (8.8ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["token_type", "analytics"], ["expiry", "3600"], ["created_at", "2018-09-12 10:38:25.561737"], ["updated_at", "2018-09-12 10:38:25.561737"]]
  â†³ app/controllers/logins_controller.rb:55
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:55
Redirected to http://localhost:3000/
Completed 302 Found in 410ms (ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:37 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (25.9ms)
Completed 200 OK in 140ms (Views: 110.8ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:39 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (17.7ms)
Completed 200 OK in 95ms (Views: 84.1ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:40 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.2ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.0ms)
Completed 200 OK in 75ms (Views: 65.2ms | ActiveRecord: 1.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:41 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.2ms)
Completed 200 OK in 70ms (Views: 62.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:42 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.9ms)
Completed 200 OK in 115ms (Views: 105.5ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:43 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.0ms)
Completed 200 OK in 57ms (Views: 48.5ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:43 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.7ms)
Completed 200 OK in 56ms (Views: 47.2ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:44 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.5ms)
Completed 200 OK in 56ms (Views: 48.1ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:44 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.7ms)
Completed 200 OK in 53ms (Views: 43.8ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:45 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (8.9ms)
Completed 200 OK in 60ms (Views: 50.6ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:45 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.7ms)
Completed 200 OK in 56ms (Views: 46.4ms | ActiveRecord: 1.5ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:46 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.1ms)
Completed 200 OK in 71ms (Views: 61.9ms | ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:46 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.5ms)
Completed 200 OK in 58ms (Views: 50.1ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:47 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.0ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBv27DxCGuP8NG_Qv2zSR5DRPy_sl275NjYLn4Xy69e6FLOGkGT569llY1ieNm64p4xN1LUw2kSU3NZKX7IvW0x66sTJ3_1VDhqafBnoGr1tLOqd4AVUSWOuSCA"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBoXFugD1mXXlK8wIMv8KBimEClMbFk9soNDzWXc8z85taIZ6RlRqrli3l_FqWIi5XWpaxWWsrAD6kCN1vKWuRWTKNA4rWnsshNkquZLr8cfEjkmEB5wCtGOi"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (5.6ms)
Completed 200 OK in 53ms (Views: 43.9ms | ActiveRecord: 1.8ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:39:48 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:39:48 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:39:52 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:39:52 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (3.8ms)
Completed 200 OK in 61ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:39:55 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (8.0ms)
Completed 200 OK in 98ms (Views: 71.4ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4%2FWADzZYddv5O7WfXO8eg3YmyxnDgqoZKm9_CZzzQ5dkOGXRvqCprlsCYUTDwT8P00C6Zk_7ZniW-OkoqZEcMRqB4" for 127.0.0.1 at 2018-09-12 17:40:06 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WADzZYddv5O7WfXO8eg3YmyxnDgqoZKm9_CZzzQ5dkOGXRvqCprlsCYUTDwT8P00C6Zk_7ZniW-OkoqZEcMRqB4"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:75
  [1m[36mOauth2Token Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlwWBsLLY-jcFixTjhl4QIepIvfpjo3fk5wKz-3Gm4JgpEYRvA0fmecTSoVFeeCvt4yndYvNl8rfAt7nAZCRSTYcFLkffS4IV-ojAru0jDwoJkJA8q1jWntKm8e3mQ"], ["token_type", "adwords"], ["expiry", "3600"], ["created_at", "2018-09-12 10:40:12.280966"], ["updated_at", "2018-09-12 10:40:12.280966"], ["issued_at", "2018-09-12 10:40:06.995255"]]
  â†³ app/controllers/logins_controller.rb:75
  [1m[35m (8.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:75
Redirected to http://localhost:3000/
Completed 302 Found in 5696ms (ActiveRecord: 8.8ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:40:12 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBsLLY-jcFixTjhl4QIepIvfpjo3fk5wKz-3Gm4JgpEYRvA0fmecTSoVFeeCvt4yndYvNl8rfAt7nAZCRSTYcFLkffS4IV-ojAru0jDwoJkJA8q1jWntKm8e3mQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (7.7ms)
Completed 200 OK in 50ms (Views: 44.6ms | ActiveRecord: 0.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:40:18 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (5.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBsLLY-jcFixTjhl4QIepIvfpjo3fk5wKz-3Gm4JgpEYRvA0fmecTSoVFeeCvt4yndYvNl8rfAt7nAZCRSTYcFLkffS4IV-ojAru0jDwoJkJA8q1jWntKm8e3mQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (10.2ms)
Completed 200 OK in 84ms (Views: 52.0ms | ActiveRecord: 10.5ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:40:19 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (8.7ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBsLLY-jcFixTjhl4QIepIvfpjo3fk5wKz-3Gm4JgpEYRvA0fmecTSoVFeeCvt4yndYvNl8rfAt7nAZCRSTYcFLkffS4IV-ojAru0jDwoJkJA8q1jWntKm8e3mQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (7.1ms)
Completed 200 OK in 161ms (Views: 141.2ms | ActiveRecord: 8.7ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:41:03 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.8ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBsLLY-jcFixTjhl4QIepIvfpjo3fk5wKz-3Gm4JgpEYRvA0fmecTSoVFeeCvt4yndYvNl8rfAt7nAZCRSTYcFLkffS4IV-ojAru0jDwoJkJA8q1jWntKm8e3mQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (8.6ms)
Completed 200 OK in 93ms (Views: 84.1ms | ActiveRecord: 0.8ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:41:07 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:41:07 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:41:09 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:41:09 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (4.2ms)
Completed 200 OK in 60ms (Views: 47.1ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:41:11 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (8.3ms)
Completed 200 OK in 86ms (Views: 56.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:41:16 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:41:16 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (11.4ms)
Completed 200 OK in 72ms (Views: 66.3ms | ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:41:33 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (13.8ms)
Completed 200 OK in 116ms (Views: 108.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:41:35 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (14.0ms)
Completed 200 OK in 122ms (Views: 105.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:41:37 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:41:37 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4%2FWABhPJGyGB9_IPRYnDWKiudmdg4nre0uor-Y_4mPejfisd49bm04nF6c36cct3Wr-6xbEBSruOSvWA2RGJGs8pw" for 127.0.0.1 at 2018-09-12 17:41:44 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WABhPJGyGB9_IPRYnDWKiudmdg4nre0uor-Y_4mPejfisd49bm04nF6c36cct3Wr-6xbEBSruOSvWA2RGJGs8pw"}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:55
  [1m[36mOauth2Token Create (1.6ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlsWBkB0v9KHWVRJjWe_sn4DXF08NMj309cNdxasOVk16l_PnceFI0rz55F08QU53kaqyCM9bxSx5rf8AUQXOObM2NnHGbtLkbeDaRceMpprvLXhqPIhomH6WMBM"], ["token_type", "analytics"], ["expiry", "3600"], ["created_at", "2018-09-12 10:41:45.012338"], ["updated_at", "2018-09-12 10:41:45.012338"]]
  â†³ app/controllers/logins_controller.rb:55
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:55
Redirected to http://localhost:3000/
Completed 302 Found in 442ms (ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:41:45 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.3ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBkB0v9KHWVRJjWe_sn4DXF08NMj309cNdxasOVk16l_PnceFI0rz55F08QU53kaqyCM9bxSx5rf8AUQXOObM2NnHGbtLkbeDaRceMpprvLXhqPIhomH6WMBM"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.2ms)
Completed 200 OK in 45ms (Views: 39.5ms | ActiveRecord: 0.3ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:41:54 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (6.8ms)
Completed 200 OK in 117ms (Views: 101.1ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WAB7I9LhKbKFeS8wkXeD3WXhlpIlJDSxLq0mHiHRkqFbwDFbT8tBVKn-2xZpzc_ocFota2kvcVUprjz0WaGlu1s" for 127.0.0.1 at 2018-09-12 17:41:55 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAB7I9LhKbKFeS8wkXeD3WXhlpIlJDSxLq0mHiHRkqFbwDFbT8tBVKn-2xZpzc_ocFota2kvcVUprjz0WaGlu1s"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:74
  [1m[36mOauth2Token Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlwWBqlzEF7SFRdqYPHldsivjZGAWMHbLC4DMVNzvWwQLPQq3VLcFZB1FSelw-3J24rrtBZZmHMgj1zwXITPwnoXiYZsINS-Is96npo-G9OnthZTrGlfj9heqr6bjw"], ["token_type", "adwords"], ["expiry", "3600"], ["created_at", "2018-09-12 10:41:55.928835"], ["updated_at", "2018-09-12 10:41:55.928835"], ["issued_at", "2018-09-12 10:41:55.927030"]]
  â†³ app/controllers/logins_controller.rb:74
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:74
Redirected to http://localhost:3000/
Completed 302 Found in 336ms (ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:41:55 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBqlzEF7SFRdqYPHldsivjZGAWMHbLC4DMVNzvWwQLPQq3VLcFZB1FSelw-3J24rrtBZZmHMgj1zwXITPwnoXiYZsINS-Is96npo-G9OnthZTrGlfj9heqr6bjw"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.4ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBkB0v9KHWVRJjWe_sn4DXF08NMj309cNdxasOVk16l_PnceFI0rz55F08QU53kaqyCM9bxSx5rf8AUQXOObM2NnHGbtLkbeDaRceMpprvLXhqPIhomH6WMBM"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (6.9ms)
Completed 200 OK in 51ms (Views: 44.3ms | ActiveRecord: 0.8ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:51:30 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 17:51:30 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:51:34 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 17:51:34 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (28.1ms)
Completed 200 OK in 219ms (Views: 200.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:51:36 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (11.0ms)
Completed 200 OK in 116ms (Views: 85.9ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:51:39 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 17:51:39 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WACxWwX2Zk5X8cdPCLczCCXLw4iBTqyRNmxVbcO8SLmMWtSwVPaVHrwk6m63cyhTP3E2W8u8P9IaJ2-82NxcULc" for 127.0.0.1 at 2018-09-12 17:51:51 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WACxWwX2Zk5X8cdPCLczCCXLw4iBTqyRNmxVbcO8SLmMWtSwVPaVHrwk6m63cyhTP3E2W8u8P9IaJ2-82NxcULc"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:55
  [1m[36mOauth2Token Create (4.8ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "refresh_token", "expiry", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlsWBhs00EkwQQpSizwoaR1V6OQDfUPcmFtIHM1iaPCudBTTSdjWT3nXRfg8nxGXHTYnHXcHvCLuBot1y8QIWiLNMl3BMaz63fLbibXbTsG874FlIbLFHwWPJ3Bt"], ["token_type", "analytics"], ["refresh_token", "1/qx46F-dDO-34W1Z2zJ109rJE_HtVVKVU6wKs8mWiiGI"], ["expiry", "3600"], ["created_at", "2018-09-12 10:51:51.627994"], ["updated_at", "2018-09-12 10:51:51.627994"]]
  â†³ app/controllers/logins_controller.rb:55
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:55
Redirected to http://localhost:3000/
Completed 302 Found in 426ms (ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:51:51 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.1ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBhs00EkwQQpSizwoaR1V6OQDfUPcmFtIHM1iaPCudBTTSdjWT3nXRfg8nxGXHTYnHXcHvCLuBot1y8QIWiLNMl3BMaz63fLbibXbTsG874FlIbLFHwWPJ3Bt"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (7.6ms)
Completed 200 OK in 98ms (Views: 88.0ms | ActiveRecord: 1.1ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 17:52:22 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (4.5ms)
Completed 200 OK in 75ms (Views: 63.1ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WAD3rCkQXVpb_BZVn8yeSh7P4Rh91rSBdhO7FSFkWyttiOG-G-LHiBJA1p4REPb3D0F48zlfNBcxten3SUL9aiI" for 127.0.0.1 at 2018-09-12 17:52:24 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAD3rCkQXVpb_BZVn8yeSh7P4Rh91rSBdhO7FSFkWyttiOG-G-LHiBJA1p4REPb3D0F48zlfNBcxten3SUL9aiI"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:74
  [1m[36mOauth2Token Create (0.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlwWBjHRbdgZLEv_ohGeJeVHza41ycvdNTQ2FcCSowcctoDEbCFZY2EG-Ba_dO9z6jPouf1DoAaKPCx9QNXkldffZ5tTnhz4wt9kQA_hgJXZlwqczRRmNsxnYVpfWg"], ["token_type", "adwords"], ["expiry", "3600"], ["created_at", "2018-09-12 10:52:24.757949"], ["updated_at", "2018-09-12 10:52:24.757949"], ["issued_at", "2018-09-12 10:52:24.756842"]]
  â†³ app/controllers/logins_controller.rb:74
  [1m[35m (8.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:74
Redirected to http://localhost:3000/
Completed 302 Found in 308ms (ActiveRecord: 9.1ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 17:52:24 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBjHRbdgZLEv_ohGeJeVHza41ycvdNTQ2FcCSowcctoDEbCFZY2EG-Ba_dO9z6jPouf1DoAaKPCx9QNXkldffZ5tTnhz4wt9kQA_hgJXZlwqczRRmNsxnYVpfWg"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBhs00EkwQQpSizwoaR1V6OQDfUPcmFtIHM1iaPCudBTTSdjWT3nXRfg8nxGXHTYnHXcHvCLuBot1y8QIWiLNMl3BMaz63fLbibXbTsG874FlIbLFHwWPJ3Bt"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (9.0ms)
Completed 200 OK in 69ms (Views: 60.4ms | ActiveRecord: 1.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 18:00:24 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 18:00:24 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 18:00:38 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 18:00:38 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (12.8ms)
Completed 200 OK in 93ms (Views: 87.8ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 18:00:42 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (13.9ms)
Completed 200 OK in 106ms (Views: 71.0ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:00:46 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000//login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 9ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:00:46 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000//login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 18:00:56 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (16.4ms)
Completed 200 OK in 169ms (Views: 163.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:00:57 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:00:57 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 18:01:17 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (5.1ms)
Completed 200 OK in 82ms (Views: 68.0ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:01:19 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:01:19 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 18:01:40 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (4.0ms)
Completed 200 OK in 72ms (Views: 67.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:01:41 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:01:41 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 18:02:01 +0700
  [1m[35m (7.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/user2017/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (15.9ms)
Completed 200 OK in 312ms (Views: 299.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:02:03 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:02:03 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4/WADWKNU6anlToEVGgxJ8JhZLDBxhu4OgpRWY9ejtcyfCjdmGHIeCIIdIis1RcrwTEek2xI7cDFiM4No3knZ6ZlQ" for 127.0.0.1 at 2018-09-12 18:02:03 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WADWKNU6anlToEVGgxJ8JhZLDBxhu4OgpRWY9ejtcyfCjdmGHIeCIIdIis1RcrwTEek2xI7cDFiM4No3knZ6ZlQ"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:56
  [1m[36mOauth2Token Create (2.0ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlsWBjBfJ2JxQA-O8ylHakNYK19xzkC-fWVsgPqn7vM1lTaRDPhLss3rSHeLUfDN6dD1GNrnEk7nP7Ue0w7TBmEWOCbvmtEL-FhzkWSqrL_hMrf4yy7Fnbn9U_tp"], ["token_type", "analytics"], ["expiry", "3599"], ["created_at", "2018-09-12 11:02:04.134958"], ["updated_at", "2018-09-12 11:02:04.134958"]]
  â†³ app/controllers/logins_controller.rb:56
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:56
Redirected to http://localhost:3000/
Completed 302 Found in 371ms (ActiveRecord: 15.9ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 18:02:04 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (1.1ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBjBfJ2JxQA-O8ylHakNYK19xzkC-fWVsgPqn7vM1lTaRDPhLss3rSHeLUfDN6dD1GNrnEk7nP7Ue0w7TBmEWOCbvmtEL-FhzkWSqrL_hMrf4yy7Fnbn9U_tp"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.3ms)
Completed 200 OK in 53ms (Views: 42.6ms | ActiveRecord: 1.1ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 18:04:24 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:69: syntax error, unexpected =>, expecting keyword_end
...   :oauth2_verification_code => params[:code]
...                             ^~
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:70: syntax error, unexpected tSTRING_DEND, expecting keyword_end
          }
          ^
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:83: syntax error, unexpected tSTRING_DEND, expecting '}'
...ach {|key| session.delete(key)}
...                              ^):
  
app/controllers/logins_controller.rb:69: syntax error, unexpected =>, expecting keyword_end
app/controllers/logins_controller.rb:70: syntax error, unexpected tSTRING_DEND, expecting keyword_end
app/controllers/logins_controller.rb:83: syntax error, unexpected tSTRING_DEND, expecting '}'
Started GET "/login" for 127.0.0.1 at 2018-09-12 18:04:39 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:41: syntax error, unexpected ')', expecting '}'
...MAIN']}#{login_callback_path}")
...                              ^
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:42: syntax error, unexpected =>
...::OAuth2VerificationRequired => e
...                             ^~
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:69: syntax error, unexpected =>, expecting keyword_end
...   :oauth2_verification_code => params[:code]
...                             ^~
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:70: syntax error, unexpected '}', expecting keyword_end
          }
          ^):
  
app/controllers/logins_controller.rb:41: syntax error, unexpected ')', expecting '}'
app/controllers/logins_controller.rb:42: syntax error, unexpected =>
app/controllers/logins_controller.rb:69: syntax error, unexpected =>, expecting keyword_end
app/controllers/logins_controller.rb:70: syntax error, unexpected '}', expecting keyword_end
Started GET "/login" for 127.0.0.1 at 2018-09-12 18:05:41 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:41: syntax error, unexpected ')', expecting '}'
...MAIN']}#{login_callback_path}")
...                              ^
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:42: syntax error, unexpected =>
...::OAuth2VerificationRequired => e
...                             ^~
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:68: syntax error, unexpected ')', expecting '}'
...MAIN']}#{login_callback_path}"),
...                              ^
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:70: syntax error, unexpected '}', expecting keyword_end
          }
          ^):
  
app/controllers/logins_controller.rb:41: syntax error, unexpected ')', expecting '}'
app/controllers/logins_controller.rb:42: syntax error, unexpected =>
app/controllers/logins_controller.rb:68: syntax error, unexpected ')', expecting '}'
app/controllers/logins_controller.rb:70: syntax error, unexpected '}', expecting keyword_end
Started GET "/login" for 127.0.0.1 at 2018-09-12 18:05:55 +0700
  
SyntaxError (/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:68: syntax error, unexpected ')', expecting '}'
...MAIN']}#{login_callback_path}"),
...                              ^
/Users/user2017/workspaces/atmarkcafe.org/projects/go/bak_proj_dmp_go/ruby/demo_rails_get_token_google/app/controllers/logins_controller.rb:70: syntax error, unexpected '}', expecting keyword_end
          }
          ^):
  
app/controllers/logins_controller.rb:68: syntax error, unexpected ')', expecting '}'
app/controllers/logins_controller.rb:70: syntax error, unexpected '}', expecting keyword_end
Started GET "/login" for 127.0.0.1 at 2018-09-12 18:06:10 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (9.3ms)
Completed 200 OK in 120ms (Views: 115.3ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 18:06:13 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (8.7ms)
Completed 200 OK in 89ms (Views: 70.1ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WAAOwDW2wql-dgCdVUKaVwsnSdx7lmDvMFkhBwufnuh9F3FMFscYYO2oNKEUcj4KlrsOOx45X2TDMJQn5O2DN7U" for 127.0.0.1 at 2018-09-12 18:06:15 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAAOwDW2wql-dgCdVUKaVwsnSdx7lmDvMFkhBwufnuh9F3FMFscYYO2oNKEUcj4KlrsOOx45X2TDMJQn5O2DN7U"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:74
  [1m[36mOauth2Token Create (6.2ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlwWBgBL6O27oHjk6FNBMof87lD5RGY03nBZZI1wPizV9SzjYDvm-pdUPPt393EkmuEPr3_WtrpysuMLKmFLa_ZxgTOADDkXXKSv4HkhdgH34rwBHhTJFrPwxcCeEQ"], ["token_type", "adwords"], ["expiry", "3599"], ["created_at", "2018-09-12 11:06:16.309194"], ["updated_at", "2018-09-12 11:06:16.309194"], ["issued_at", "2018-09-12 11:06:16.272616"]]
  â†³ app/controllers/logins_controller.rb:74
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:74
Redirected to http://localhost:3000/
Completed 302 Found in 399ms (ActiveRecord: 17.7ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 18:06:16 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBgBL6O27oHjk6FNBMof87lD5RGY03nBZZI1wPizV9SzjYDvm-pdUPPt393EkmuEPr3_WtrpysuMLKmFLa_ZxgTOADDkXXKSv4HkhdgH34rwBHhTJFrPwxcCeEQ"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBjBfJ2JxQA-O8ylHakNYK19xzkC-fWVsgPqn7vM1lTaRDPhLss3rSHeLUfDN6dD1GNrnEk7nP7Ue0w7TBmEWOCbvmtEL-FhzkWSqrL_hMrf4yy7Fnbn9U_tp"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.5ms)
Completed 200 OK in 59ms (Views: 50.0ms | ActiveRecord: 1.4ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 18:06:18 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login/logout" for 127.0.0.1 at 2018-09-12 18:06:18 +0700
Processing by LoginsController#logout as HTML
Redirected to https://www.google.com/accounts/Logout
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 18:06:22 +0700
Processing by HomesController#index as HTML
Redirected to http://localhost:3000/login
Filter chain halted as :authenticate rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)


Started GET "/login" for 127.0.0.1 at 2018-09-12 18:06:22 +0700
Processing by LoginsController#index as HTML
  Rendering logins/index.html.slim within layouts/application
  Rendered logins/index.html.slim within layouts/application (4.1ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:06:23 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)


Started GET "/login/prompt_ga" for 127.0.0.1 at 2018-09-12 18:06:23 +0700
Processing by LoginsController#prompt_ga as HTML
Redirected to https://accounts.google.com/o/oauth2/auth?access_type=offline&client_id=471993607899-b9jroakasqlafkp0at5l76fdps6cvjr9.apps.googleusercontent.com&redirect_uri=http://localhost:3000/login/callback_ga&response_type=code&scope=https://www.googleapis.com/auth/analytics.readonly
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)


Started GET "/login/callback_ga?code=4%2FWAAdoCS18bJ47UrxWMVci37otvvVQGiHv2AS3xgYHjOrDwtvjRerMq51Z3zpSDc_pRPJ2TLCYsKeEjK3qFq82W0" for 127.0.0.1 at 2018-09-12 18:06:31 +0700
Processing by LoginsController#callback_ga as HTML
  Parameters: {"code"=>"4/WAAdoCS18bJ47UrxWMVci37otvvVQGiHv2AS3xgYHjOrDwtvjRerMq51Z3zpSDc_pRPJ2TLCYsKeEjK3qFq82W0"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:55
  [1m[36mOauth2Token Create (8.4ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["access_token", "ya29.GlsWBlOkrbUXSRT_mhZowALesHy3tQRtG4kRMV3gxrAK5Abyc0xafrruBJD4UGno8p_Bh5OXuzUhFwg1CE6ssko5G2-FW8KT0Y11z4G2ZYqosG7uW9MON1VdR-ox"], ["token_type", "analytics"], ["expiry", "3599"], ["created_at", "2018-09-12 11:06:32.113637"], ["updated_at", "2018-09-12 11:06:32.113637"]]
  â†³ app/controllers/logins_controller.rb:55
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:55
Redirected to http://localhost:3000/
Completed 302 Found in 325ms (ActiveRecord: 9.2ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 18:06:32 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBlOkrbUXSRT_mhZowALesHy3tQRtG4kRMV3gxrAK5Abyc0xafrruBJD4UGno8p_Bh5OXuzUhFwg1CE6ssko5G2-FW8KT0Y11z4G2ZYqosG7uW9MON1VdR-ox"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (3.9ms)
Completed 200 OK in 44ms (Views: 38.2ms | ActiveRecord: 0.5ms)


Started GET "/login/prompt" for 127.0.0.1 at 2018-09-12 18:06:34 +0700
Processing by LoginsController#prompt as HTML
  Rendering logins/prompt.html.slim within layouts/application
  Rendered logins/prompt.html.slim within layouts/application (7.4ms)
Completed 200 OK in 83ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/login/callback?code=4/WAAS1qcEjz4KJ8kwfB-j5UTJkPgpZBdjbGLeHKygQ3o2Vbu17SnTW1DDZd6kiAyQBZIWDHaeUNyL7KhuSr7FH7A" for 127.0.0.1 at 2018-09-12 18:06:36 +0700
Processing by LoginsController#callback as HTML
  Parameters: {"code"=>"4/WAAS1qcEjz4KJ8kwfB-j5UTJkPgpZBdjbGLeHKygQ3o2Vbu17SnTW1DDZd6kiAyQBZIWDHaeUNyL7KhuSr7FH7A"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/logins_controller.rb:74
  [1m[36mOauth2Token Create (8.9ms)[0m  [1m[32mINSERT INTO "oauth2_tokens" ("access_token", "token_type", "expiry", "created_at", "updated_at", "issued_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["access_token", "ya29.GlwWBtfsFhSOa_x-u4mr6xKPKbzOV46ei7sYcuxX-g-WN6-YSGnY4QSf8kakLSyqNnRkvAkTXzqpm3A_JHNzr1F-HzX8TJd_owGDuV-SpzbqN0VAvTPMfg7yPTVA9Q"], ["token_type", "adwords"], ["expiry", "3600"], ["created_at", "2018-09-12 11:06:36.695901"], ["updated_at", "2018-09-12 11:06:36.695901"], ["issued_at", "2018-09-12 11:06:36.694158"]]
  â†³ app/controllers/logins_controller.rb:74
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/logins_controller.rb:74
Redirected to http://localhost:3000/
Completed 302 Found in 308ms (ActiveRecord: 9.6ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 18:06:36 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (0.9ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBtfsFhSOa_x-u4mr6xKPKbzOV46ei7sYcuxX-g-WN6-YSGnY4QSf8kakLSyqNnRkvAkTXzqpm3A_JHNzr1F-HzX8TJd_owGDuV-SpzbqN0VAvTPMfg7yPTVA9Q"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (0.5ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBlOkrbUXSRT_mhZowALesHy3tQRtG4kRMV3gxrAK5Abyc0xafrruBJD4UGno8p_Bh5OXuzUhFwg1CE6ssko5G2-FW8KT0Y11z4G2ZYqosG7uW9MON1VdR-ox"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (7.0ms)
Completed 200 OK in 46ms (Views: 38.2ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-09-12 18:07:41 +0700
Processing by HomesController#index as HTML
  [1m[36mOauth2Token Load (3.6ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlwWBtfsFhSOa_x-u4mr6xKPKbzOV46ei7sYcuxX-g-WN6-YSGnY4QSf8kakLSyqNnRkvAkTXzqpm3A_JHNzr1F-HzX8TJd_owGDuV-SpzbqN0VAvTPMfg7yPTVA9Q"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:4
  [1m[36mOauth2Token Load (2.2ms)[0m  [1m[34mSELECT  "oauth2_tokens".* FROM "oauth2_tokens" WHERE "oauth2_tokens"."access_token" = $1 ORDER BY "oauth2_tokens"."id" ASC LIMIT $2[0m  [["access_token", "ya29.GlsWBlOkrbUXSRT_mhZowALesHy3tQRtG4kRMV3gxrAK5Abyc0xafrruBJD4UGno8p_Bh5OXuzUhFwg1CE6ssko5G2-FW8KT0Y11z4G2ZYqosG7uW9MON1VdR-ox"], ["LIMIT", 1]]
  â†³ app/controllers/homes_controller.rb:5
  Rendering homes/index.html.slim within layouts/application
  Rendered homes/index.html.slim within layouts/application (4.2ms)
Completed 200 OK in 68ms (Views: 52.3ms | ActiveRecord: 5.7ms)


